window.__require=function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({AbstractSDK:[function(t,e,o){"use strict";cc._RF.push(e,"78116Ir4gBJ0qkBSfvbVddN","AbstractSDK"),cc._RF.pop()},{}],ArrayExtensions:[function(t,e,o){"use strict";cc._RF.push(e,"deb10gMUlJG6b/vwvIvZVKB","ArrayExtensions"),Array.prototype.getRandom=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.convertToSet=function(){var t=new Set;return this.forEach(function(e){t.add(e)}),t},Array.prototype.popRandom=function(){var t=Math.floor(Math.random()*this.length);return this.splice(t,1)[0]},cc._RF.pop()},{}],AssetHolder:[function(t,e,o){"use strict";cc._RF.push(e,"fc42fmBKsJIropHZcQ6LRvt","AssetHolder");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./DictUtil"),s=t("./Item"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteItemIcons=[],e.assetNameDict=new r.default,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.assetNameDict.add(s.ItemType.AddTime.toString(),"item_1"),this.assetNameDict.add(s.ItemType.AddMoveSpeed.toString(),"shoe"),this.assetNameDict.add(s.ItemType.AutoSwingAxe.toString(),"autospin_icon"),this.assetNameDict.add(s.ItemType.IncreaseAxeRange.toString(),"range_icon"),this.assetNameDict.add(s.ItemType.BonusAxeGun.toString(),"gun_icon"),this.assetNameDict.add(s.ItemType.DecreaseMoveSpeed.toString(),"move_icon"),this.assetNameDict.add(s.ItemType.SnowStorm.toString(),"item_7"),this.assetNameDict.add(s.ItemType.QuickEnemy.toString(),"item_8"),this.assetNameDict.add(s.ItemType.GiantEnemy.toString(),"item_9")},e.prototype.getSprite=function(t){if(t==s.ItemType.AddTime||t==s.ItemType.SnowStorm||t==s.ItemType.QuickEnemy||t==s.ItemType.GiantEnemy)return null;if(void 0===t||null==t)return this.spriteItemIcons[0];var e=t.toString();if(1==this.assetNameDict.containsKey(e)){for(var o=this.assetNameDict.getItem(e),n=0;n<this.spriteItemIcons.length;n++){var i=this.spriteItemIcons[n];if(i.name===o)return i}return console.log("get default by not found asset"),this.spriteItemIcons[0]}return console.log("get default by not found type in config"),this.spriteItemIcons[0]},e.instance=null,i([l(cc.SpriteFrame)],e.prototype,"spriteItemIcons",void 0),e=o=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./DictUtil":"DictUtil","./Item":"Item"}],BuffEffect:[function(t,e,o){"use strict";cc._RF.push(e,"a6367pmH8hMuY7Qsg1TA0q3","BuffEffect"),Object.defineProperty(o,"__esModule",{value:!0}),o.BuffEffect=void 0;var n=t("../../hcg-core/sdk/SdkFunctions"),i=t("./BuffManagerBase"),r=function(){function t(t,e){this.Index=i.default.generateId(),this.Owner=e,this._maxCooldown=t}return t.prototype.getReplaceable=function(){return!1},t.prototype.getMaxCooldownInSeconds=function(){return this._maxCooldown},t.prototype.getMaxCooldownInMiliSeconds=function(){return 1e3*this._maxCooldown},t.prototype.getCooldownInSeconds=function(){return(this._endTime-n.default.getInstance().getTick())/1e3},t.prototype.getCooldownInMiliseconds=function(){return this._endTime-n.default.getInstance().getTick()},t.prototype.apply=function(){return 1==this.Owner.tryAddBuff(this)&&(this._activeTime=n.default.getInstance().getTick(),this._endTime=this._activeTime+1e3*this._maxCooldown,this.doApply(),!0)},t.prototype.remove=function(){1==this.Owner.tryRemoveBuff(this)&&this.doRemove()},t.prototype.stack=function(t){this._endTime=this._endTime+1e3*t._maxCooldown},t.prototype.replace=function(t){this._activeTime=n.default.getInstance().getTick(),this._endTime=this._activeTime+1e3*t._maxCooldown},t}();o.BuffEffect=r,cc._RF.pop()},{"../../hcg-core/sdk/SdkFunctions":"SdkFunctions","./BuffManagerBase":"BuffManagerBase"}],BuffManagerBase:[function(t,e,o){"use strict";cc._RF.push(e,"293f93l7v9Ky71uNQClrpXr","BuffManagerBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SpawnCommandData=void 0;var r=t("../../hcg-core/sdk/SdkFunctions"),s=t("./BuffTarget"),a=t("./StatusIcon"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(){return function(t,e,o){this.target=t,this.itemType=e,this.metadata=o}}();o.SpawnCommandData=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.multipleEffects=!0,e.statuses=new Array,e.itemSprites=new Array,e._playerContainers=new Array,e._outdateIntervalCheck=100,e._lastOutdateCheckTick=0,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance},e.generateId=function(){return this._idGenerator++},e.prototype.getContainer=function(t){for(var e=0;e<this._playerContainers.length;e++)if(this._playerContainers[e].Owner==t)return this._playerContainers[e];return null},e.prototype.onLoad=function(){var t=this;o._idGenerator=0,o._instance=this;for(var e=this.getPlayerControllers(),n=0;n<e.length;n++)this._playerContainers.push(new s.BuffTarget(e[n]));this.statuses.forEach(function(t){t.node.active=!1}),r.default.getInstance().registerEvent(r.default.KEY_SPAWN_STATUS_ITEM,function(e){return t.receive_command_KEY_SPAWN_STATUS_ITEM(e)})},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.update=function(){var t=r.default.getInstance().getTick();if(t-this._lastOutdateCheckTick>=this._outdateIntervalCheck){this._lastOutdateCheckTick=t;for(var e=function(){var t=o._playerContainers[n];1==t.hasBuffs()&&(o.removeOutdateEffects(t),1==o.isThisPlayerController(t.Owner)&&o.statuses.forEach(function(e){var o=t.getStatus(e.itemType);null==o?e.node.active=!1:(e.node.active=!0,e.setTime(o.totalTime,o.remainTime))}))},o=this,n=0;n<this._playerContainers.length;n++)e()}},e.prototype.getItemSprite=function(t){for(var e=0;e<this.itemSprites.length;e++)if(t==e)return this.itemSprites[e]},e.prototype.spawnItem=function(t,e,o){if(null==t)return-1;var n=this.getContainer(t);if(0==this.multipleEffects&&this.isBuff(e)&&1==n.hasBuffs())return-1;if(1==r.default.getInstance().isRealTimeMultiplayer()){var i=this.serializeCommandData(t,e,o);r.default.getInstance().sendP2PMessage(r.default.KEY_SPAWN_STATUS_ITEM,{spawnInfo:i})}return this.doSpawnItem(t,e,o)},e.prototype.spawnRandomlyItem=function(t,e){if(null==t)return-1;if(0==r.default.getInstance().isSpawner())return-1;var o=this.getRandomItemId();return this.spawnItem(t,o,e)},e.prototype.doSpawnItem=function(t,e,o){if(null==t)return-1;var n=this.getContainer(t),i=this.createEffect(n,e,o);return null!=i&&i.apply()?e:-1},e.prototype.receive_command_KEY_SPAWN_STATUS_ITEM=function(t){if(null!=t){var e=this.deserializeCommandData(t.spawnInfo);this.doSpawnItem(e.target,e.itemType,t.metadata)}},e.prototype.removeOutdateEffects=function(t){var e=t.getOutdateEffects();if(null!=e)for(var o=0,n=e;o<n.length;o++){n[o].remove()}},e._instance=null,e._idGenerator=0,i([u],e.prototype,"multipleEffects",void 0),i([u([a.default])],e.prototype,"statuses",void 0),i([u([cc.SpriteFrame])],e.prototype,"itemSprites",void 0),e=o=i([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../hcg-core/sdk/SdkFunctions":"SdkFunctions","./BuffTarget":"BuffTarget","./StatusIcon":"StatusIcon"}],BuffTarget:[function(t,e,o){"use strict";cc._RF.push(e,"20b6e2H2plHWou5QRWxJwYn","BuffTarget"),Object.defineProperty(o,"__esModule",{value:!0}),o.BuffTarget=o.BuffStatus=void 0;var n=function(){return function(){this.itemType=0,this.remainTime=0,this.totalTime=1}}();o.BuffStatus=n;var i=function(){function t(t){this.Owner=null,this._buffs=new Array,this.Owner=t}return t.prototype.hasBuffs=function(){return this._buffs.length>0},t.prototype.getStatuses=function(){var t=new Array;return this._buffs.forEach(function(e){var o=new n;o.itemType=e.EffectId,o.remainTime=e.getCooldownInMiliseconds(),o.totalTime=e.getMaxCooldownInMiliSeconds(),t.push(o)}),t},t.prototype.getStatus=function(t){for(var e=0;e<this._buffs.length;e++){var o=this._buffs[e];if(o.EffectId==t){var i=new n;return i.itemType=o.EffectId,i.remainTime=o.getCooldownInMiliseconds(),i.totalTime=o.getMaxCooldownInMiliSeconds(),i}}return null},t.prototype.tryAddBuff=function(t){if(null==t)return!1;for(var e=null,o=0,n=this._buffs;o<n.length;o++){var i=n[o];if(i.EffectId==t.EffectId){e=i;break}}return null!=e?1==t.getReplaceable()?(e.replace(t),!1):0!=t.IsStack&&(e.stack(t),!1):(this._buffs.push(t),!0)},t.prototype.tryRemoveBuff=function(t){if(null==t)return!1;for(var e=0;e<this._buffs.length;e++)if(this._buffs[e].EffectId==t.EffectId)return this._buffs.splice(e,1),!0;return!1},t.prototype.getOutdateEffects=function(){if(0==this._buffs.length)return null;for(var t=new Array,e=0;e<this._buffs.length;e++)this._buffs[e].getCooldownInMiliseconds()<=0&&t.push(this._buffs[e]);return t},t.prototype.addInstant=function(t){},t.prototype.getEffectByType=function(t){if(0==this._buffs.length)return null;for(var e=0;e<this._buffs.length;e++)if(this._buffs[e].EffectId==t)return this._buffs[e];return null},t}();o.BuffTarget=i,cc._RF.pop()},{}],CanvasMultiResoSupport:[function(t,e,o){"use strict";cc._RF.push(e,"bbadfzUTVZCrqtOLTaLN0Uj","CanvasMultiResoSupport");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.count=0,e}return n(e,t),e.prototype.onLoad=function(){this.container.active=!1;var t=cc.view.getFrameSize(),e=t.width,o=t.height,n=this.node.getComponent(cc.Canvas);e/o>=n.designResolution.width/n.designResolution.height?(n.fitWidth=!1,n.fitHeight=!0):(n.fitWidth=!0,n.fitHeight=!1)},e.prototype.update=function(){this.count>=0&&(this.count++,2==this.count&&(this.container.active=!0,this.count=-1))},i([a(cc.Node)],e.prototype,"container",void 0),e=i([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],DictUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a4209GxRfpLxq3PqcqyDput","DictUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.items={},this.count=0}return t.prototype.add=function(t,e){this.items.hasOwnProperty(t)||this.count++,this.items[t]=e},t.prototype.containsKey=function(t){return this.items.hasOwnProperty(t)},t.prototype.size=function(){return this.count},t.prototype.getItem=function(t){return this.items[t]},t.prototype.removeItem=function(t){var e=this.items[t];return delete this.items[t],this.count--,e},t.prototype.getKeys=function(){var t=[];for(var e in this.items)this.items.hasOwnProperty(e)&&t.push(e);return t},t.prototype.values=function(){var t=[];for(var e in this.items)this.items.hasOwnProperty(e)&&t.push(this.items[e]);return t},t}();o.default=n,cc._RF.pop()},{}],DropConfigHolder:[function(t,e,o){"use strict";cc._RF.push(e,"4ad41et6zBO5bkOozv7HA0J","DropConfigHolder");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemTypeSelection=void 0;var r,s=t("./DictUtil"),a=t("./Item"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.AddTime_3s=0]="AddTime_3s",t[t.AddTime_5s=1]="AddTime_5s",t[t.AddTime_10s=2]="AddTime_10s",t[t.AddMoveSpeed_x2=3]="AddMoveSpeed_x2",t[t.AddMoveSpeed_x4=4]="AddMoveSpeed_x4",t[t.AutoSwingAxe_x2=5]="AutoSwingAxe_x2",t[t.AutoSwingAxe_x4=6]="AutoSwingAxe_x4",t[t.AutoSwingAxe_x10=7]="AutoSwingAxe_x10",t[t.IncreaseAxeRange_x2=8]="IncreaseAxeRange_x2",t[t.IncreaseAxeRange_x4=9]="IncreaseAxeRange_x4",t[t.IncreaseAxeRange_x10=10]="IncreaseAxeRange_x10",t[t.BonusAxeGun=11]="BonusAxeGun",t[t.DecreaseMoveSpeed=12]="DecreaseMoveSpeed",t[t.SnowStorm=13]="SnowStorm",t[t.QuickEnemy=14]="QuickEnemy",t[t.GiantEnemy=15]="GiantEnemy"})(r=o.ItemTypeSelection||(o.ItemTypeSelection={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropConfigDict=new s.default,e.example="Hello",e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.dropConfigDict.add(r.AddTime_3s.toString(),new a.DropItem(a.ItemType.AddTime,!0,5,3,10)),this.dropConfigDict.add(r.AddTime_5s.toString(),new a.DropItem(a.ItemType.AddTime,!0,5,5,5)),this.dropConfigDict.add(r.AddTime_10s.toString(),new a.DropItem(a.ItemType.AddTime,!0,5,10,1)),this.dropConfigDict.add(r.AddMoveSpeed_x2.toString(),new a.DropItem(a.ItemType.AddMoveSpeed,!1,3,2,20)),this.dropConfigDict.add(r.AddMoveSpeed_x4.toString(),new a.DropItem(a.ItemType.AddMoveSpeed,!1,3,4,5)),this.dropConfigDict.add(r.AutoSwingAxe_x2.toString(),new a.DropItem(a.ItemType.AutoSwingAxe,!1,5,1.05,10)),this.dropConfigDict.add(r.AutoSwingAxe_x4.toString(),new a.DropItem(a.ItemType.AutoSwingAxe,!1,5,1.1,5)),this.dropConfigDict.add(r.AutoSwingAxe_x10.toString(),new a.DropItem(a.ItemType.AutoSwingAxe,!1,5,1.2,1)),this.dropConfigDict.add(r.IncreaseAxeRange_x2.toString(),new a.DropItem(a.ItemType.IncreaseAxeRange,!1,5,2,10)),this.dropConfigDict.add(r.IncreaseAxeRange_x4.toString(),new a.DropItem(a.ItemType.IncreaseAxeRange,!1,5,4,5)),this.dropConfigDict.add(r.IncreaseAxeRange_x10.toString(),new a.DropItem(a.ItemType.IncreaseAxeRange,!1,5,10,1)),this.dropConfigDict.add(r.BonusAxeGun.toString(),new a.DropItem(a.ItemType.BonusAxeGun,!1,3,3,20)),this.dropConfigDict.add(r.DecreaseMoveSpeed.toString(),new a.DropItem(a.ItemType.DecreaseMoveSpeed,!0,5,.5,20)),this.dropConfigDict.add(r.SnowStorm.toString(),new a.DropItem(a.ItemType.SnowStorm,!0,5,3,10)),this.dropConfigDict.add(r.QuickEnemy.toString(),new a.DropItem(a.ItemType.QuickEnemy,!0,5,3,35)),this.dropConfigDict.add(r.GiantEnemy.toString(),new a.DropItem(a.ItemType.GiantEnemy,!0,5,3,35))},e.instance=null,i([u],e.prototype,"example",void 0),e=o=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./DictUtil":"DictUtil","./Item":"Item"}],DropRate:[function(t,e,o){"use strict";cc._RF.push(e,"9d5fbG6965MnIGUvi92bidt","DropRate");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Util"),s=t("./AssetHolder"),a=t("./DropConfigHolder"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteItemIcon=null,e.dropAble=[],e.dropAble_debuff=[],e}return n(e,t),e.prototype.selectADropItem=function(t){var e,o=a.default.instance.dropConfigDict;if(1==t){e=this.dropAble_debuff,this.spriteItemIcon.spriteFrame=null;var n=o.getItem(a.ItemTypeSelection.DecreaseMoveSpeed.toString()).rate,i=n+o.getItem(a.ItemTypeSelection.SnowStorm.toString()).rate,c=i+o.getItem(a.ItemTypeSelection.QuickEnemy.toString()).rate,l=(o.getItem(a.ItemTypeSelection.GiantEnemy.toString()).rate,r.default.getRandom(100,0));return l>=0&&l<n?o.getItem(a.ItemTypeSelection.DecreaseMoveSpeed.toString()):l>=n&&l<i?o.getItem(a.ItemTypeSelection.SnowStorm.toString()):l>=i&&l<c?o.getItem(a.ItemTypeSelection.QuickEnemy.toString()):o.getItem(a.ItemTypeSelection.GiantEnemy.toString())}e=this.dropAble;var u,p=r.default.getRandom(100,0),d=e.length;u=new Array(d);var h=0;if(e.forEach(function(t){var e=t.toString();if(1==o.containsKey(e)){var n=o.getItem(e);p<=n.rate&&(u[h]=n,h++)}}),0===h)return this.spriteItemIcon.spriteFrame=null,null;var f=u[r.default.getRandom(h)];return this.spriteItemIcon.spriteFrame=s.default.instance.getSprite(f.itemType),f},i([u(cc.Sprite)],e.prototype,"spriteItemIcon",void 0),i([u({type:cc.Enum(a.ItemTypeSelection),tooltip:"buff list item drop able"})],e.prototype,"dropAble",void 0),i([u({type:cc.Enum(a.ItemTypeSelection),tooltip:"debuff list item drop able"})],e.prototype,"dropAble_debuff",void 0),e=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Util":"Util","./AssetHolder":"AssetHolder","./DropConfigHolder":"DropConfigHolder"}],EffectManager:[function(t,e,o){"use strict";cc._RF.push(e,"96f3eOYLcNIR4LAvGSCk1Ml","EffectManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../TouchController"),s=t("./Item"),a=t("./UI/ItemInHud"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeSnowStom=null,e.scoreDisplayPrefab=null,e.text="aloha",e.gameController=null,e.touchController=null,e.effectView_speed=null,e.effectView_gun=null,e.effectView_autospin=null,e.effectView_range=null,e.itemPrefab=null,e.curTween=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.gameController=this.touchController.script_GameController},e.prototype.adjustData=function(t,e,o){if(null!=o.dropItem){if(e.value>=o.dropItem.value){o.adjustData(e);var n=o.node;this.spawnItem(t,e,n),this.applyEffect(e)}}else{o.adjustData(e);n=o.node;this.spawnItem(t,e,n),this.applyEffect(e)}},e.prototype.recieveEffect=function(t,e){e.itemType==s.ItemType.AddMoveSpeed?this.adjustData(t,e,this.effectView_speed):e.itemType==s.ItemType.AutoSwingAxe?this.adjustData(t,e,this.effectView_autospin):e.itemType==s.ItemType.IncreaseAxeRange?this.adjustData(t,e,this.effectView_range):e.itemType==s.ItemType.BonusAxeGun?this.adjustData(t,e,this.effectView_gun):this.applyEffect(e)},e.prototype.spawnItem=function(t,e,o){var n=cc.instantiate(this.itemPrefab);n.getComponent(s.default).setData(e),n.setParent(this.gameController.grassPatch),n.setPosition(t);var i=o,r=i.parent.convertToWorldSpaceAR(i.getPosition()),a=this.gameController.grassPatch.convertToNodeSpaceAR(r);cc.tween(n).to(.5,{position:cc.v3(a.x,a.y,0)}).removeSelf().start()},e.prototype.applyEffect=function(t){var e=t.itemType,o=t.duration,n=t.value;switch(e){case s.ItemType.AddTime:break;case s.ItemType.DecreaseMoveSpeed:case s.ItemType.AddMoveSpeed:this.touchController.adjustSlayerSpeed(n,o);break;case s.ItemType.AutoSwingAxe:this.touchController.autoSwing(n,o);break;case s.ItemType.IncreaseAxeRange:this.touchController.adjustAxeRange(n,o);break;case s.ItemType.BonusAxeGun:this.touchController.bonusAxeGun(o);break;case s.ItemType.SnowStorm:this.showSnowStorm(o);break;case s.ItemType.QuickEnemy:this.gameController.selectRandomEnemy(!0,n);break;case s.ItemType.GiantEnemy:this.gameController.selectRandomEnemy(!1,n)}},e.prototype.showSnowStorm=function(t){var e=this;this.nodeSnowStom.active=!0,this.nodeSnowStom.opacity=0,null!=this.curTween&&this.curTween.stop(),this.curTween=cc.tween(this.nodeSnowStom).then(cc.fadeIn(2)).delay(t-2.5).then(cc.fadeOut(.5)).call(function(){e.node.active=!1}).start()},e.prototype.enemyCrossTheLine=function(t){},e.instance=null,i([u(cc.Node)],e.prototype,"nodeSnowStom",void 0),i([u(cc.Prefab)],e.prototype,"scoreDisplayPrefab",void 0),i([u],e.prototype,"text",void 0),i([u(r.default)],e.prototype,"touchController",void 0),i([u(a.default)],e.prototype,"effectView_speed",void 0),i([u(a.default)],e.prototype,"effectView_gun",void 0),i([u(a.default)],e.prototype,"effectView_autospin",void 0),i([u(a.default)],e.prototype,"effectView_range",void 0),i([u({type:cc.Prefab,tooltip:"item prefabs",displayName:"Drop Item Prefab"})],e.prototype,"itemPrefab",void 0),e=o=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../TouchController":"TouchController","./Item":"Item","./UI/ItemInHud":"ItemInHud"}],EmoticonController:[function(t,e,o){"use strict";cc._RF.push(e,"75f2ajScqRHT5tyZpvOjNTp","EmoticonController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r,s=t("../sdk/SdkFunctions"),a=t("./PlayerEmoticons"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.NONE=0]="NONE",t[t.DOWNLOADING=1]="DOWNLOADING",t[t.DOWNLOADED=2]="DOWNLOADED"})(r||(r={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerEmoticons=null,e.opponentEmoticons=null,e.emoticonButtons=new Array,e.emoticonBundle="https://h5game.gogame.net/core/b3/remote/hcg_emoticons",e._downloadStatus=r.NONE,e._emoticonPrefabs=[null,null,null,null],e._onloadedHandlers=new Array,e.emoticonEnable=!0,e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance},e.prototype.onLoad=function(){if(o.instance=this,1==gpSDK.isSinglePlayer()){this.playerEmoticons.node.active=!1,this.opponentEmoticons.node.active=!1;for(var t=0,e=this.emoticonButtons;t<e.length;t++){e[t].node.active=!1}}else for(var n in s.default.getInstance().registerEvent(s.default.KEY_EMOTICON,function(t){return o.instance.showOpponentEmoticon(t)}),this.emoticonButtons){var i=parseInt(n),r=this.emoticonButtons[i],a=new cc.Component.EventHandler;a.target=this.node,a.component="EmoticonController",a.handler="onClickEmoticon",a.customEventData=i.toString(),r.clickEvents.push(a)}},e.prototype.start=function(){this.downloadEmoticons()},e.prototype.onDestroy=function(){if(1==gpSDK.isSinglePlayer());else for(var t in this.emoticonButtons){var e=parseInt(t),o=this.emoticonButtons[e],n=new cc.Component.EventHandler;n.target=this.node,n.component="EmoticonController",n.handler="onClickEmoticon",n.customEventData=e.toString(),o.clickEvents.slice(0,o.clickEvents.length)}},e.prototype.showOpponentEmoticon=function(t){0!=this.emoticonEnable&&null!=t&&this.opponentEmoticons.showEmoticon(t.iconId)},e.prototype.showSelfEmoticon=function(t){0!=this.emoticonEnable&&(s.default.getInstance().sendP2PMessage(s.default.KEY_EMOTICON,{iconId:t}),this.playerEmoticons.showEmoticon(t))},e.prototype.onClickEmoticon=function(t,e){if(0!=this.emoticonEnable&&null!=e){var o=parseInt(e);this.showSelfEmoticon(o)}},e.prototype.downloadEmoticons=function(){if(this._downloadStatus==r.NONE){this._downloadStatus=r.DOWNLOADING;var t=this;cc.assetManager.loadBundle(this.emoticonBundle,function(e,o){o.load("Prefabs/Emoticon_0",cc.Prefab,function(e,o){t.pushEmoticon(0,e,o)}),o.load("Prefabs/Emoticon_1",cc.Prefab,function(e,o){t.pushEmoticon(1,e,o)}),o.load("Prefabs/Emoticon_2",cc.Prefab,function(e,o){t.pushEmoticon(2,e,o)}),o.load("Prefabs/Emoticon_3",cc.Prefab,function(e,o){t.pushEmoticon(3,e,o)})})}},e.prototype.pushEmoticon=function(t,e,o){null!=o?(this._emoticonPrefabs[t]=o,this.checkIfDownloadedIcons()):console.log("@@=> failed to load emoticon "+t+": "+e)},e.prototype.checkIfDownloadedIcons=function(){for(var t=0;t<this._emoticonPrefabs.length;t++)if(null==this._emoticonPrefabs[t])return;if(this._downloadStatus=r.DOWNLOADED,this._onloadedHandlers.length>0)for(t=0;t<this._onloadedHandlers.length;t++)null!=this._onloadedHandlers[t]&&this._onloadedHandlers[t]();return!0},e.prototype.onEmoticonLoaded=function(t){this._onloadedHandlers.push(t),this._downloadStatus==r.DOWNLOADED&&t()},e.prototype.getIconPrefab=function(t){return this._downloadStatus!=r.DOWNLOADED||t<0||t>=this._emoticonPrefabs.length?null:this._emoticonPrefabs[t]},e.instance=null,i([u(a.default)],e.prototype,"playerEmoticons",void 0),i([u(a.default)],e.prototype,"opponentEmoticons",void 0),i([u([cc.Button])],e.prototype,"emoticonButtons",void 0),i([u],e.prototype,"emoticonBundle",void 0),e=o=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../sdk/SdkFunctions":"SdkFunctions","./PlayerEmoticons":"PlayerEmoticons"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"21d4acdhjBK9LcmuAOuBinq","Enemy");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Util"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfxHit=null,e.sfxHit2=null,e.sfxHitPlayer=null,e.isTouch=!1,e.randomTimer=1,e.hitSprite=null,e.script_GameController=null,e.healthPoint=1,e.isOnScale=!1,e.scaleFactor=1,e.speedFactor=1,e}return n(e,t),e.prototype.start=function(){var t=this;cc.tween(this.node).delay(1).call(function(){t.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,r.default.getRandom(-500,-100))}).start();this.schedule(function(){t.moveRandom()},this.randomTimer)},e.prototype.moveRandom=function(){var t=this;0==this.isOnScale?(this.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(r.default.getRandom(100,-100),this.node.parent.getComponent(cc.RigidBody).linearVelocity.y),this.randomTimer=r.default.getRandomFloat(1.1,.5)):(this.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),cc.tween(this.node.parent).to(.05,{scale:1.1}).to(.05,{scale:.9}).to(.05,{scale:1.1}).to(.05,{scale:.9}).to(.1,{scale:this.scaleFactor}).call(function(){t.speedFactor>1?t.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(t.node.parent.getComponent(cc.RigidBody).linearVelocity.x,-1e3):t.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(t.node.parent.getComponent(cc.RigidBody).linearVelocity.x,-300),t.isOnScale=!1}).start())},e.prototype.onCollisionEnter=function(t,e){if(!this.isTouch&&!t.name.toLowerCase().includes("enemy"))if(this.isTouch=!0,t.name.toLowerCase().includes("swordbody")||t.name.toLowerCase().includes("bullet")){cc.audioEngine.playEffect(this.sfxHit2,!1),cc.audioEngine.playEffect(this.sfxHit,!1),this.script_GameController.scoreController.addScore(1);var o=cc.instantiate(this.hitSprite);o.parent=this.node,o.setPosition(r.default.getRandom(10,-10),r.default.getRandom(10,-10)),cc.tween(o).delay(.2).removeSelf().start(),this.healthPoint--,0==this.healthPoint?(this.node.parent.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.parent.getComponent(cc.RigidBody).enabled=!1,this.onAfterBeSkillByAxe(),cc.tween(this.node.parent).delay(.2).removeSelf().start()):this.isTouch=!1}else t.name.toLowerCase().includes("player")&&(cc.audioEngine.playEffect(this.sfxHitPlayer,!1),this.script_GameController.scoreController.addScore(-1),this.isTouch=!1);t.name.toLowerCase().includes("despawnarea")&&(this.onCrossTheLine(),this.node.parent.destroy())},e.prototype.onAfterBeSkillByAxe=function(){},e.prototype.onCrossTheLine=function(){},i([c({type:cc.AudioClip})],e.prototype,"sfxHit",void 0),i([c({type:cc.AudioClip})],e.prototype,"sfxHit2",void 0),i([c({type:cc.AudioClip})],e.prototype,"sfxHitPlayer",void 0),i([c(cc.Prefab)],e.prototype,"hitSprite",void 0),e=i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Util":"Util"}],FPSHUD:[function(t,e,o){"use strict";cc._RF.push(e,"ab267W2gg9F+IrFrXlp3Tuw","FPSHUD");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showFps=!1,e.fpsLabel=null,e._frameCount=0,e._frameDt=0,e._fps=0,e._updateRateSeconds=2,e}return n(e,t),e.prototype.onLoad=function(){null==this.fpsLabel?this.showFps=!1:this.fpsLabel.string=""},e.prototype.update=function(t){1==this.showFps&&(this._frameCount++,this._frameDt+=t,this._frameDt>1/this._updateRateSeconds&&(this._fps=this._frameCount/this._frameDt,this._frameCount=0,this._frameDt-=1/this._updateRateSeconds,this.fpsLabel.string="fps: "+Math.round(this._fps),this._fps>=28?this.fpsLabel.node.color=cc.Color.GREEN:this._fps>=24?this.fpsLabel.node.color=cc.Color.YELLOW:this.fpsLabel.node.color=cc.Color.RED))},i([a],e.prototype,"showFps",void 0),i([a(cc.Label)],e.prototype,"fpsLabel",void 0),e=i([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],FillScreen:[function(t,e,o){"use strict";cc._RF.push(e,"cf9a0rICe9OqZZzxlKa/1j0","FillScreen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],GDTest:[function(t,e,o){"use strict";cc._RF.push(e,"54fafzX1hdAhKQ+JvBQIcaF","GDTest");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./DropConfigHolder"),s=t("./EffectManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyDown=function(t){var e=r.default.instance.dropConfigDict,o=null;switch(t.keyCode){case cc.macro.KEY.num1:o=e.getItem("3");break;case cc.macro.KEY.num2:o=e.getItem("4");break;case cc.macro.KEY.num3:o=e.getItem("5");break;case cc.macro.KEY.num4:o=e.getItem("7");break;case cc.macro.KEY.num5:o=e.getItem("8");break;case cc.macro.KEY.num6:o=e.getItem("10");break;case cc.macro.KEY.num7:o=e.getItem("11");break;case cc.macro.KEY.num8:o=e.getItem("13");break;case cc.macro.KEY.num9:o=e.getItem("14");break;case cc.macro.KEY.num0:o=e.getItem("15")}null!=o&&s.default.instance.applyEffect(o)},i([l(cc.Label)],e.prototype,"label",void 0),i([l],e.prototype,"text",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./DropConfigHolder":"DropConfigHolder","./EffectManager":"EffectManager"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"d6119veUsNNe6b9nB+lPkhG","GameController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Util"),s=t("./ScoreController"),a=t("./Polish_December2020/PolishEnemy"),c=t("./Polish_December2020/DropRate"),l=t("../hcg-core/UI/HCG_GameController"),u=t("../hcg-core/UI/HCG_GameManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.enemyPrefab=[],e.slayer=null,e.hintObj=null,e.grassPatch=null,e.interval=1,e.timer=90,e.isGameOver=!1,e.scoreController=null,e.spawnFactor=0,e.timerUp=0,e.spawnDiffTimer=5,e.timerUpDiff=0,e.spawnCountTotal=1,e.spawnCount=0,e.spawnDebuffEnemyRatio=0,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.hintObj.active=!1,cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.startGame=function(){this.scoreController=this.getComponent(s.default),this.schedule(this.callback_gameTimerCoundown,this.interval)},e.prototype.updateDiff=function(){this.unschedule(this.callback_gameTimerCoundown),this.schedule(this.callback_gameTimerCoundown,this.interval)},e.prototype.callback_gameTimerCoundown=function(){this.timer-=this.interval,u.default.instance.gameUIScript.updateTimerLabel(this.timer),this.timer<=0&&(this.isGameOver=!0,u.default.instance.gameUIScript.updateTimerLabel(0),this.endGame()),this.timerUp+=this.interval,this.timerUpDiff++;var t=Math.round(this.timerUp);if(this.timerUp>=10&&t%15==0&&this.spawnDebuffEnemyRatio<15&&(this.spawnDebuffEnemyRatio+=5),this.spawnEnemy(),t%10==0){var e=t/10;e>this.spawnFactor&&(this.spawnFactor=e,this.interval=1/Math.pow(1.4,this.spawnFactor),this.updateDiff())}},e.prototype.spawnEnemy=function(){if(!this.isGameOver){var t=cc.instantiate(this.enemyPrefab[r.default.getRandom(this.enemyPrefab.length)]),e=t.getComponentInChildren(a.default);e.script_GameController=this,r.default.getRandom(100)<=this.spawnDebuffEnemyRatio&&e.setToDebuffEnemy(),t.setParent(this.grassPatch),t.setPosition(r.default.getRandom(this.grassPatch.width/2-50,-this.grassPatch.width/2+50),r.default.getRandom(this.grassPatch.height/2-50,-this.grassPatch.height/2+50));var o=t.getComponent(c.default).selectADropItem(e.isDebuffEnemy);e.dropItem=o,this.timer>80&&(t.scale=.1,t.setPosition(r.default.getRandom(this.grassPatch.width/2-50,-this.grassPatch.width/2+50),r.default.getRandom(-800,-1500)),cc.tween(t).to(.1,{scale:.5}).to(.2,{scale:.3}).to(.2,{scale:1}).start())}},e.prototype.endGame=function(){this.unschedule(this.callback_gameTimerCoundown),cc.director.getPhysicsManager().enabled=!1,cc.director.getCollisionManager().enabled=!1,clearInterval(this.timerID),u.default.instance.triggerGameOver()},e.prototype.adjustTime=function(t){this.timer+=t},e.prototype.selectRandomEnemy=function(t,e){for(var o=new Array,n=this.grassPatch,i=0;i<n.children.length;i++){var s=n.children[i];null!=s.getComponentInChildren(a.default)&&o.push(s.getComponentInChildren(a.default))}var c=new Array;if(0!=o.length)if(0==o.length)c.push(o[0]);else if(1==t)o.forEach(function(t){t.transform2QuickEnemy()});else{for(var l=r.default.getRandom(5,2),u=Math.min(l,o.length),p=0;p<u;p++)r.default.shuffleArray(o),c.push(o.pop());c.forEach(function(t){t.transform2GiantEnemy()})}},i([h({type:cc.Prefab,tooltip:"item prefabs",displayName:"Drop Item Prefab"})],e.prototype,"itemPrefab",void 0),i([h(cc.Prefab)],e.prototype,"enemyPrefab",void 0),i([h(cc.Node)],e.prototype,"slayer",void 0),i([h({type:cc.Node,tooltip:"hint obj"})],e.prototype,"hintObj",void 0),i([h(cc.Node)],e.prototype,"grassPatch",void 0),e=i([d],e)}(l.default);o.default=f,cc._RF.pop()},{"../hcg-core/UI/HCG_GameController":"HCG_GameController","../hcg-core/UI/HCG_GameManager":"HCG_GameManager","./Polish_December2020/DropRate":"DropRate","./Polish_December2020/PolishEnemy":"PolishEnemy","./ScoreController":"ScoreController","./Util":"Util"}],GameElapasedTime:[function(t,e,o){"use strict";cc._RF.push(e,"93e8cWmrA5Bm4YpFrHO07kr","GameElapasedTime"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./SdkFunctions"),i=function(){function t(){this._startAt=0,this._isStarted=!1,this._pauseAtTick=-1,this._totalPauseTime=0}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},Object.defineProperty(t,"ElapseTime",{get:function(){return this.getInstance().getElapseTime()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ElapseTimeInSeconds",{get:function(){return this.getInstance().getElapseTimeInSeconds()},enumerable:!1,configurable:!0}),t.prototype.start=function(){this._startAt=n.default.getInstance().getTick(),this._isStarted=!0},t.prototype.beforePause=function(){0!=this._isStarted&&(this._pauseAtTick=n.default.getInstance().getTick())},t.prototype.afterResume=function(){0!=this._isStarted&&(this._totalPauseTime=this._totalPauseTime+(n.default.getInstance().getTick()-this._pauseAtTick),this._pauseAtTick=-1)},t.prototype.getElapseTime=function(){return 0==this._isStarted?0:-1!=this._pauseAtTick?this._startAt-this._totalPauseTime+this._pauseAtTick:n.default.getInstance().getTick()-this._startAt-this._totalPauseTime},t.prototype.getElapseTimeInSeconds=function(){return.001*this.getElapseTime()},t._instance=null,t}();o.default=i,cc._RF.pop()},{"./SdkFunctions":"SdkFunctions"}],HCG_CountdownToStart:[function(t,e,o){"use strict";cc._RF.push(e,"3a038WqGCFCBJ/Kk305S5kk","HCG_CountdownToStart");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o(function(e){e(t)})}return new(o||(o=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?o(t.value):i(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Sound/SoundManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelTimeCoundown=null,e.textFinal="Start!",e.isCountDown=!1,e}return n(e,t),e.prototype.playCountdown=function(t){return void 0===t&&(t=4),r(this,void 0,void 0,function(){var e,o=this;return s(this,function(n){return this.node.active=!0,e=t,[2,new Promise(function(n,i){var r=function(){t--;var o=0;if(o=this.isCountDown?t:e-t,0==t?(this.labelTimeCoundown.node.opacity=255,a.default.getInstance().PlayCountDownStartSFX(),this.labelTimeCoundown.string=this.textFinal):-1!=t&&(a.default.getInstance().PlayCountDownNumberSFX(),this.labelTimeCoundown.node.opacity=255,this.labelTimeCoundown.string=o.toString(),cc.tween(this.labelTimeCoundown.node).to(.5,{opacity:0}).start()),-1==t)return this.node.active=!1,n("done"),void this.unschedule(r)};o.schedule(r,1)})]})})},i([u(cc.Label)],e.prototype,"labelTimeCoundown",void 0),i([u],e.prototype,"textFinal",void 0),i([u],e.prototype,"isCountDown",void 0),e=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Sound/SoundManager":"SoundManager"}],HCG_GameController:[function(t,e,o){"use strict";cc._RF.push(e,"fef9c5Z9JpEB5ZX0CQpS/Xa","HCG_GameController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o(function(e){e(t)})}return new(o||(o=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?o(t.value):i(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../sdk/SdkFunctions"),c=t("./HCG_UIController"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.startGame=function(){},e.prototype.pauseGame=function(){cc.director.pause()},e.prototype.resumeGame=function(){cc.director.resume()},e.prototype.abortGame=function(){a.default.getInstance().abortGame()},e.prototype.setDefault=function(){},e.prototype.afterTimeUpEvent=function(){},e.prototype.MP_Host_AssignNetworkedNodes=function(){return[]},e.prototype.MP_Client_AssignNetworkNodes=function(t){},e.prototype.MP_OnInitializeNetworkedNode=function(t){return null},e.prototype.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY=function(t){},e.prototype.InitializeGameWorldOnCooldown=function(){return null},e.prototype.ReceiveCommandInitializeGameWorlOnCooldown=function(t){},e.prototype.OnOpponentScoreUpdated=function(t,e){},e.prototype.showCooldownWaitingForOpponent=function(t){c.default.getInstance().showCooldownWaitingForOpponent(t)},e.prototype.showCooldownToStart=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.default.getInstance().showCountdown2Start()];case 1:return t.sent(),[2]}})})},e=i([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../sdk/SdkFunctions":"SdkFunctions","./HCG_UIController":"HCG_UIController"}],HCG_GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"cdb20J7IgpEyI3nGqiKjSCF","HCG_GameManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o(function(e){e(t)})}return new(o||(o=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?o(t.value):i(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../sdk/ISDKHandler"),c=t("../sdk/SdkFunctions"),l=t("./HCG_GameController"),u=t("./HCG_UIController"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opponentData=null,e.playerData=null,e.host="https://h5game.gogame.net/",e.gameControllerScript=null,e.gameUIScript=null,e}var o;return n(e,t),o=e,e.prototype.OnOpponentUpdated=function(t){this.opponentData=t,this.gameUIScript.OnOpponentUpdated(t)},e.prototype.OnOpponentScoreUpdated=function(t,e){this.gameUIScript.OnOpponentScoreUpdated(t,e),this.gameControllerScript.OnOpponentScoreUpdated(t,e)},e.prototype.OnSelfPlayerDataUpdated=function(t){this.playerData=t,this.gameUIScript.OnSelfPlayerDataUpdated(t)},e.prototype.OnOpponentsReady=function(){this.startGame()},e.prototype.MP_Host_AssignNetworkedNodes=function(){return this.gameControllerScript.MP_Host_AssignNetworkedNodes()},e.prototype.MP_Client_AssignNetworkNodes=function(t){this.gameControllerScript.MP_Client_AssignNetworkNodes(t)},e.prototype.MP_OnInitializeNetworkedNode=function(t){return this.gameControllerScript.MP_OnInitializeNetworkedNode(t)},e.prototype.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY=function(t){this.gameControllerScript.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY(t)},e.prototype.receive_command_INITIALIZE_GAME_WORLD_ON_COOLDOWN=function(t){this.gameControllerScript.ReceiveCommandInitializeGameWorlOnCooldown(t)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.game.setFrameRate(60),o.instance=this},e.prototype.start=function(){this.gameControllerScript.setDefault(),c.default.getInstance().isSinglePlayer()?this.gameUIScript.showOffOpponentUI():this.gameControllerScript.showCooldownWaitingForOpponent(!0),c.default.getInstance().readyToStartGame()},e.prototype.startGame=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.gameControllerScript.showCooldownWaitingForOpponent(!1),[4,Promise.all([this.gameControllerScript.showCooldownToStart(),this.InitializeGameWorld()])];case 1:return t.sent(),this.gameControllerScript.startGame(),[2]}})})},e.prototype.InitializeGameWorld=function(){return r(this,void 0,void 0,function(){var t;return s(this,function(e){return null!=(t=this.gameControllerScript.InitializeGameWorldOnCooldown())&&c.default.getInstance().send_command_INITIALIZE_GAME_WORLD_ON_COOLDOWN(t),[2]})})},e.prototype.triggerGameOver=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.gameUIScript.showTimerUp()];case 1:return t.sent(),[4,this.gameControllerScript.afterTimeUpEvent()];case 2:return t.sent(),c.default.getInstance().triggerGameOver(),c.default.getInstance().isSinglePlayer()||this.gameUIScript.showWait4OpponentEndGame(),[2]}})})},e.prototype.updatePlayerScore=function(t){this.gameUIScript.updatePlayerScore(t),c.default.getInstance().sendCurrentScore(t)},e.prototype.PauseGame=function(){this.gameControllerScript.pauseGame()},e.prototype.ResumeGame=function(){this.gameControllerScript.resumeGame()},e.instance=null,i([h],e.prototype,"host",void 0),i([h(l.default)],e.prototype,"gameControllerScript",void 0),i([h(u.default)],e.prototype,"gameUIScript",void 0),e=o=i([d],e)}(a.default);o.default=f,cc._RF.pop()},{"../sdk/ISDKHandler":"ISDKHandler","../sdk/SdkFunctions":"SdkFunctions","./HCG_GameController":"HCG_GameController","./HCG_UIController":"HCG_UIController"}],HCG_ScoreComboSound:[function(t,e,o){"use strict";cc._RF.push(e,"a38ddsByg1KF6dih4lNx6hi","HCG_ScoreComboSound");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SoundComboSetting=void 0;var r=cc._decorator,s=r.ccclass,a=r.property,c=function(){function t(){this.cap=0,this.audioClip=null}return i([a()],t.prototype,"cap",void 0),i([a(cc.AudioClip)],t.prototype,"audioClip",void 0),t=i([s("SoundComboSetting")],t)}();o.SoundComboSetting=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundSetting=new Array,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.getSoundByNumber=function(t){for(var e=0;e<this.soundSetting.length;e++){var o=this.soundSetting[e];if(!(t>o.cap))return o.audioClip;if(e==this.soundSetting.length-1)return o.audioClip}},e.prototype.PlaySoundCombo=function(t){cc.audioEngine.playEffect(this.getSoundByNumber(t),!1)},e.instance=null,i([a({type:c})],e.prototype,"soundSetting",void 0),e=o=i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],HCG_ScoreController:[function(t,e,o){"use strict";cc._RF.push(e,"77c26AoELtJcYn2bu5DS5tF","HCG_ScoreController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.TimeComboSetting=void 0;var r=t("../utilities/Utils"),s=t("./HCG_GameManager"),a=t("./HCG_ScoreComboSound"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(){function t(){this.cap=0,this.duration=0}return i([u()],t.prototype,"cap",void 0),i([u()],t.prototype,"duration",void 0),t=i([l("TimeComboSetting")],t)}();o.TimeComboSetting=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.combo=0,e.score=0,e.scorePrefab=null,e.nodeCombo=null,e.comboText=null,e.comboValueLabel=null,e.scoreContainer=[],e.tempNum=0,e.addScoreDefault=1,e.addScoreByCombo=1,e.isChangeComboTextColor=!1,e.comboColors=[],e.isHaveCountDown=!1,e.comboTimerBar=null,e.isUsingCustomCountdown=!1,e.timeCombo=-1,e.timeComboSetting=new Array,e.timeLeft=-1,e.interval=.1,e.callback=function(){this.timeLeft-=this.interval;var t=this.timeLeft/this.timeCombo;this.adjustSlider(t),this.timeLeft<0&&(this.combo=0,this.nodeCombo.active=!1,this.unschedule(this.callback))},e.colorGetScore=cc.Color.GREEN,e.colorDecreaseScore=cc.Color.RED,e.isCustomTween=!1,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){this.nodeCombo.active=!1},e.prototype.caculatorScore=function(t){1==t?this.addScore():this.deductScore(),s.default.instance.updatePlayerScore(this.score),a.default.instance.PlaySoundCombo(this.combo)},e.prototype.addScore=function(){this.combo++;var t=this.addScoreDefault+(this.combo-1)*this.addScoreByCombo;if(this.score+=t,1==this.isHaveCountDown&&this.combo>1&&(this.comboTimerBar.node.active=!0,this.unschedule(this.callback),1==this.isUsingCustomCountdown?this.timeLeft=this.getComboDurationByComboNumber(this.combo):this.timeLeft=this.timeCombo,this.schedule(this.callback,this.interval)),this.comboValueLabel.string=this.combo.toString(),1==this.isChangeComboTextColor){var e=r.default.random(0,this.comboColors.length-1);this.comboValueLabel.node.color=this.comboColors[e],this.comboText.node.color=this.comboColors[e]}this.nodeCombo.active=this.combo>=2,this.combo>=2&&cc.tween(this.nodeCombo).to(0,{opacity:255}).to(.25,{scale:1.2}).to(.25,{scale:1}).start(),this.showScoreDisplay(t)},e.prototype.adjustSlider=function(t){this.comboTimerBar.progress=t},e.prototype.deductScore=function(){this.combo=0,this.score-=this.addScoreDefault,this.score<0&&(this.score=0),this.nodeCombo.active=!1;var t=-this.addScoreDefault;this.showScoreDisplay(t)},e.prototype.addManual=function(t,e){void 0===e&&(e=null),this.score+=t,s.default.instance.updatePlayerScore(this.score),this.showScoreDisplay(t,e)},e.prototype.updateScore=function(t){this.score=t,s.default.instance.updatePlayerScore(this.score)},e.prototype.customColor=function(t,e){null!=t&&(this.colorGetScore=t),null!=e&&(this.colorDecreaseScore=e)},e.prototype.customTween=function(t){this.isCustomTween=!0,this._customTween=t},e.prototype.customPlayEffectShowScore=function(t){this._customTween.clone(t).start()},e.prototype.showScoreDisplay=function(t,e){void 0===e&&(e=null);var o=cc.instantiate(this.scorePrefab);t<0?(o.color=this.colorDecreaseScore,o.getComponent(cc.Label).string=t.toString()):(o.color=this.colorGetScore,o.getComponent(cc.Label).string="+"+t.toString()),null!=e?o.setParent(e):o.setParent(this.scoreContainer[r.default.random(0,this.scoreContainer.length-1)]),this.tempNum++,1==this.isCustomTween?this.customPlayEffectShowScore(o):cc.tween(o).by(.5,{position:cc.v3(0,80)}).then(cc.fadeOut(.5)).removeSelf().start()},e.prototype.getComboDurationByComboNumber=function(t){for(var e=0;e<this.timeComboSetting.length;e++){var o=this.timeComboSetting[e];if(!(t>o.cap))return o.duration;if(e==this.timeComboSetting.length-1)return o.duration}},e.instance=null,i([u(cc.Prefab)],e.prototype,"scorePrefab",void 0),i([u(cc.Node)],e.prototype,"nodeCombo",void 0),i([u(cc.Label)],e.prototype,"comboText",void 0),i([u(cc.Label)],e.prototype,"comboValueLabel",void 0),i([u(cc.Node)],e.prototype,"scoreContainer",void 0),i([u],e.prototype,"addScoreDefault",void 0),i([u],e.prototype,"addScoreByCombo",void 0),i([u],e.prototype,"isChangeComboTextColor",void 0),i([u({type:cc.Color,visible:function(){return this.isChangeComboTextColor}})],e.prototype,"comboColors",void 0),i([u],e.prototype,"isHaveCountDown",void 0),i([u({type:cc.ProgressBar,visible:function(){return this.isHaveCountDown}})],e.prototype,"comboTimerBar",void 0),i([u],e.prototype,"isUsingCustomCountdown",void 0),i([u({visible:function(){return this.isHaveCountDown&&!this.isUsingCustomCountdown}})],e.prototype,"timeCombo",void 0),i([u({type:p,visible:function(){return this.isHaveCountDown&&this.isUsingCustomCountdown}})],e.prototype,"timeComboSetting",void 0),e=o=i([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../utilities/Utils":"Utils","./HCG_GameManager":"HCG_GameManager","./HCG_ScoreComboSound":"HCG_ScoreComboSound"}],HCG_UIController:[function(t,e,o){"use strict";cc._RF.push(e,"8e4e987TgZFc5K9Bs3KgooC","HCG_UIController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},r=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o(function(e){e(t)})}return new(o||(o=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?o(t.value):i(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../sdk/SdkFunctions"),c=t("../utilities/Utils"),l=t("./HCG_CountdownToStart"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerNameLabel=null,e.playerScoreLabel=null,e.playerAvatar=null,e.opponentNameLabel=null,e.opponentScoreLabel=null,e.opponentAvatar=null,e.timerLabel=null,e.nodeWaittingForOpponent=null,e.waitingCooldown=null,e.nodeTimeUp=null,e.label_timeUpUI=null,e.nodeWait4OpponentEndGame=null,e.nodeCountDownToStart=null,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance},e.prototype.onLoad=function(){o._instance=this,null!=this.waitingCooldown&&(this.waitingCooldown.string="")},e.prototype.OnOpponentUpdated=function(t){this.opponentNameLabel.string=t.firstName,t.avatar&&t.avatar.link&&c.default.loadImageFromURL(this.opponentAvatar,t.avatar.link,this.opponentAvatar.node.parent),this.opponentAvatar.node.on(cc.Node.EventType.TOUCH_START,function(){a.default.getInstance().showOpponentProfile(t.id)},this)},e.prototype.OnOpponentScoreUpdated=function(t,e){this.opponentScoreLabel.string=e.toString()},e.prototype.OnSelfPlayerDataUpdated=function(t){this.playerNameLabel.string=t.firstName,t.avatar&&t.avatar.link&&c.default.loadImageFromURL(this.playerAvatar,t.avatar.link,this.playerAvatar.node.parent)},e.prototype.updatePlayerScore=function(t){this.playerScoreLabel.string=t.toString()},e.prototype.showOffOpponentUI=function(){this.opponentNameLabel.node.active=!1,this.opponentScoreLabel.node.active=!1,this.opponentAvatar.node.active=!1},e.prototype.showCountdown2Start=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return null==this.nodeCountDownToStart?[2]:null==this.nodeCountDownToStart?[3,2]:[4,this.nodeCountDownToStart.playCountdown()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.showCooldownWaitingForOpponent=function(t){null!=this.nodeWaittingForOpponent&&(this.nodeWaittingForOpponent.active=t,null!=this.waitingCooldown&&(1==t?(this.waitingCooldown.node.active=!0,this.schedule(this.cooldownWaitingOpponent,1)):(this.waitingCooldown.node.active=!1,a.default.getInstance().RemainLoadingTime()>0&&this.unschedule(this.cooldownWaitingOpponent))))},e.prototype.cooldownWaitingOpponent=function(){this.waitingCooldown.string=a.default.getInstance().RemainLoadingTime()+"s",a.default.getInstance().RemainLoadingTime()<=0&&this.unschedule(this.cooldownWaitingOpponent)},e.prototype.showTimerUp=function(){return r(this,void 0,void 0,function(){var t=this;return s(this,function(e){return null==this.nodeTimeUp||null==this.label_timeUpUI?[2]:[2,new Promise(function(e,o){t.nodeTimeUp.active=!0,cc.tween(t.label_timeUpUI.node).to(.25,{scale:1.2,angle:10}).to(.5,{scale:.8,angle:-10}).to(.25,{scale:1,angle:0}).delay(.5).call(function(){t.nodeTimeUp.active=!1,e("done")}).start()})]})})},e.prototype.showWait4OpponentEndGame=function(){null!=this.nodeWait4OpponentEndGame&&(this.nodeWait4OpponentEndGame.active=!0)},e.prototype.updateTimerLabel=function(t){this.timerLabel.string=c.default.secondToMinute(t)},e._instance=null,i([d(cc.Label)],e.prototype,"playerNameLabel",void 0),i([d(cc.Label)],e.prototype,"playerScoreLabel",void 0),i([d(cc.Sprite)],e.prototype,"playerAvatar",void 0),i([d(cc.Label)],e.prototype,"opponentNameLabel",void 0),i([d(cc.Label)],e.prototype,"opponentScoreLabel",void 0),i([d(cc.Sprite)],e.prototype,"opponentAvatar",void 0),i([d(cc.Label)],e.prototype,"timerLabel",void 0),i([d(cc.Node)],e.prototype,"nodeWaittingForOpponent",void 0),i([d(cc.Label)],e.prototype,"waitingCooldown",void 0),i([d(cc.Node)],e.prototype,"nodeTimeUp",void 0),i([d(cc.Label)],e.prototype,"label_timeUpUI",void 0),i([d(cc.Node)],e.prototype,"nodeWait4OpponentEndGame",void 0),i([d(l.default)],e.prototype,"nodeCountDownToStart",void 0),e=o=i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../sdk/SdkFunctions":"SdkFunctions","../utilities/Utils":"Utils","./HCG_CountdownToStart":"HCG_CountdownToStart"}],HelpController:[function(t,e,o){"use strict";cc._RF.push(e,"54123GjlthPW7lMvzA9j7Vm","HelpController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Sound/SoundManager"),s=t("../UI/HCG_GameManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.helpPanel=null,e.openButton=null,e.closeButton1=null,e.closeButton2=null,e.pauseGameOnSingle=!0,e._isOpen=!1,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance},e.prototype.isOpen=function(){return this._isOpen},e.prototype.onLoad=function(){o._instance=this,this._isOpen=!1,this.helpPanel.active=!1;var t=new cc.Component.EventHandler;t.target=this.node,t.component="HelpController",t.handler="onClickClose",this.closeButton1.clickEvents.push(t),this.closeButton2.clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component="HelpController",e.handler="onClickOpen",this.openButton.clickEvents.push(e)},e.prototype.onDestroy=function(){this.closeButton1.clickEvents.slice(0,this.closeButton1.clickEvents.length),this.closeButton2.clickEvents.slice(0,this.closeButton2.clickEvents.length),this.openButton.clickEvents.slice(0,this.openButton.clickEvents.length)},e.prototype.onClickOpen=function(){var t=this;this._isOpen=!0,this.helpPanel.active=!0,this.helpPanel.opacity=0,this.helpPanel.scale=0,r.default.getInstance().PlayButtonSFX(),cc.tween(this.helpPanel).parallel(cc.tween(this.helpPanel).to(.1,{opacity:255}),cc.tween(this.helpPanel).to(.1,{scale:1},{easing:"backOut"})).delay(.2).call(function(){t.pauseGameOnSingle&&1==gpSDK.isSinglePlayer()&&s.default.instance.PauseGame(),null!=t.onHelpOpenOrClose&&t.onHelpOpenOrClose(!0)}).start()},e.prototype.onClickClose=function(){this._isOpen=!1,this.helpPanel.stopAllActions(),this.helpPanel.active=!1,r.default.getInstance().PlayButtonSFX(),this.pauseGameOnSingle&&1==gpSDK.isSinglePlayer()&&s.default.instance.ResumeGame(),null!=this.onHelpOpenOrClose&&this.onHelpOpenOrClose(!1)},e._instance=null,i([l(cc.Node)],e.prototype,"helpPanel",void 0),i([l(cc.Button)],e.prototype,"openButton",void 0),i([l(cc.Button)],e.prototype,"closeButton1",void 0),i([l(cc.Button)],e.prototype,"closeButton2",void 0),i([l],e.prototype,"pauseGameOnSingle",void 0),e=o=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Sound/SoundManager":"SoundManager","../UI/HCG_GameManager":"HCG_GameManager"}],ISDKHandler:[function(t,e,o){"use strict";cc._RF.push(e,"4d5b3Lqox9HKa8Df0zZ+7YH","ISDKHandler");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SDKEngine"),s=t("./SdkFunctions"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.engine=null,e}return n(e,t),e.prototype.onLoad=function(){null!=this.engine&&r.default.setInstance(this.engine),console.log("@@=> [ISDKHandler] register sdk!"),s.default.getInstance().setSDKHandler(this)},e.prototype.OnSelfPlayerDataUpdated=function(t){console.log("OnSelfPlayerDataUpdated(playerData) not overridden")},e.prototype.OnOpponentUpdated=function(t){console.log("OnOpponentUpdated(opponent) not overridden")},e.prototype.OnOpponentScoreUpdated=function(t,e){console.log("OnOpponentScoreUpdated(opponentID, opponentScore:number) not overridden")},e.prototype.OnFinalScoreUpdated=function(){console.log("OnSelfPlayerDataUpdated() not overridden")},e.prototype.OnOpponentsReady=function(){console.log("OnOpponentsReady() not overridden")},e.prototype.MP_Host_AssignNetworkedNodes=function(){return console.log("MP_Host_AssignNetworkedNode() not overridden"),[]},e.prototype.MP_Client_AssignNetworkNodes=function(t){console.log("MP_Client_AssignNetworkNodes() not overridden")},e.prototype.MP_OnInitializeNetworkedNode=function(t){return console.log("MP_OnInitializeNetworkedNode(prefabName:string) not overridden"),null},e.prototype.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY=function(t){console.log("receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY(prefabName:string) not overridden")},e.prototype.receive_command_INITIALIZE_GAME_WORLD_ON_COOLDOWN=function(t){},i([l(r.default)],e.prototype,"engine",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./SDKEngine":"SDKEngine","./SdkFunctions":"SdkFunctions"}],InstantEffect:[function(t,e,o){"use strict";cc._RF.push(e,"6963bK9TbRERJsrnZY+6aWW","InstantEffect"),Object.defineProperty(o,"__esModule",{value:!0}),o.InstantEffect=void 0;var n=t("./BuffManagerBase"),i=function(){function t(t){this.Index=n.default.generateId(),this.Owner=t}return t.prototype.apply=function(){return this.doApply(),!0},t}();o.InstantEffect=i,cc._RF.pop()},{"./BuffManagerBase":"BuffManagerBase"}],ItemInHud:[function(t,e,o){"use strict";cc._RF.push(e,"853a3AZLRlH9LWU+748L4EH","ItemInHud");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../AssetHolder"),s=t("../Item"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.spriteItemIcon=null,e.spriteCountDown=null,e.nodeTimeSlider=null,e.interval=.15,e.dropItem=null,e.timeLeft=-1,e.callback=function(){this.timeLeft-=this.interval;var t=this.timeLeft/this.dropItem.duration;this.spriteCountDown.fillRange=t,this.adjustSlider(t),this.timeLeft<0&&(this.dropItem=null,this.node.active=!1)},e}return n(e,t),e.prototype.onLoad=function(){this.maxSliderValue=this.nodeTimeSlider.width,this.node.active=!1,this.spriteCountDown.node.active=!1},e.prototype.adjustData=function(t){this.node.active=!0,this.dropItem=t,this.spriteItemIcon.spriteFrame=r.default.instance.getSprite(t.itemType);var e=this.getValueDisplay(t);this.label.string="x"+e,this.spriteCountDown.fillRange=1,cc.tween(this.node).to(.1,{scale:1.2}).to(.1,{scale:1}).start(),this.unschedule(this.callback),this.timeLeft=t.duration,this.schedule(this.callback,this.interval)},e.prototype.getValueDisplay=function(t){var e=t.itemType,o=t.value,n=o.toString();switch(e){case s.ItemType.AutoSwingAxe:n=1.05==o?"2":1.1==o?"4":"10"}return n},e.prototype.adjustSlider=function(t){this.nodeTimeSlider.width=this.maxSliderValue*t},i([l(cc.Label)],e.prototype,"label",void 0),i([l(cc.Sprite)],e.prototype,"spriteItemIcon",void 0),i([l(cc.Sprite)],e.prototype,"spriteCountDown",void 0),i([l(cc.Node)],e.prototype,"nodeTimeSlider",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../AssetHolder":"AssetHolder","../Item":"Item"}],Item:[function(t,e,o){"use strict";cc._RF.push(e,"780b2LX2zdCc5y/NhYR/Pek","Item");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.DropItem=o.ItemType=void 0;var r,s=t("./AssetHolder"),a=cc._decorator,c=a.ccclass,l=a.property;(function(t){t[t.AddTime=1]="AddTime",t[t.AddMoveSpeed=2]="AddMoveSpeed",t[t.AutoSwingAxe=3]="AutoSwingAxe",t[t.IncreaseAxeRange=4]="IncreaseAxeRange",t[t.BonusAxeGun=5]="BonusAxeGun",t[t.DecreaseMoveSpeed=6]="DecreaseMoveSpeed",t[t.SnowStorm=7]="SnowStorm",t[t.QuickEnemy=8]="QuickEnemy",t[t.GiantEnemy=9]="GiantEnemy"})(r=o.ItemType||(o.ItemType={}));var u=function(){function t(t,e,o,n,i){this.stackAble=!1,this.duration=0,this.value=0,this.rate=0,this.itemType=t,this.stackAble=e,this.duration=o,this.value=n,this.rate=i}return t=i([c("DropItem")],t)}();o.DropItem=u;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteItemIcon=null,e.labelItemName=null,e}return n(e,t),e.prototype.setData=function(t){if(void 0===t||null==t)this.spriteItemIcon.spriteFrame=s.default.instance.getSprite(null),this.labelItemName.string=this.spriteItemIcon.spriteFrame.name;else{this.spriteItemIcon.spriteFrame=s.default.instance.getSprite(t.itemType);var e=r[t.itemType];this.labelItemName.string=e}this.labelItemName.node.active=!1},i([l(cc.Sprite)],e.prototype,"spriteItemIcon",void 0),i([l(cc.Label)],e.prototype,"labelItemName",void 0),e=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./AssetHolder":"AssetHolder"}],LBPositionConverter:[function(t,e,o){"use strict";cc._RF.push(e,"5f932n618xN44hAmTmw9N3G","LBPositionConverter"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this._cSize=new cc.Vec2(t.x,t.y),this._cAnchor=new cc.Vec2(e.x,e.y)}return t.prototype.toLBPos=function(t){return new cc.Vec2(t.x+this._cAnchor.x*this._cSize.x,t.y+this._cAnchor.y*this._cSize.y)},t.prototype.toAnchorPos=function(t){return new cc.Vec2(t.x-this._cAnchor.x*this._cSize.x,t.y-this._cAnchor.y*this._cSize.y)},t}();o.default=n,cc._RF.pop()},{}],MapExtensions:[function(t,e,o){"use strict";cc._RF.push(e,"8a2c0teoF5EUKf6G5JgpaRn","MapExtensions"),Map.prototype.getRandomKey=function(){for(var t=Math.floor(Math.random()*this.size),e=0,o=0,n=this.keys();o<n.length;o++){var i=n[o];if(e++===t)return i}},Map.prototype.getRandomValue=function(){for(var t=Math.floor(Math.random()*this.size),e=0,o=0,n=this.values();o<n.length;o++){var i=n[o];if(e++===t)return console.log("random"),i}},Map.prototype.convertValuesToSet=function(){var t=new Set;return this.forEach(function(e){t.add(e)}),t},Map.prototype.getRandomKey_Old=function(){return Array.from(this.keys()).getRandom()},Map.prototype.getRandomValue_Old=function(){return Array.from(this.values()).getRandom()},cc._RF.pop()},{}],MathExtensions:[function(t,e,o){"use strict";cc._RF.push(e,"4d0f50aNr1I/Kc95SdwTi4L","MathExtensions"),Math.randomArb=function(t,e){return Math.random()*(e-t)+t},Math.randomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},Math.randomIntIncl=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},Math.flipCoin=function(){return Math.random()>.5},Math.clamp=function(t,e,o){return t<=e?e:t>=o?o:t},cc._RF.pop()},{}],MoveBullet:[function(t,e,o){"use strict";cc._RF.push(e,"655bfNGkHBOE5xP6MzbM7m3","MoveBullet");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Util"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletSpeed=800,e}return n(e,t),e.prototype.update=function(t){this.node.setPosition(this.node.position.x,this.node.position.y+=(this.bulletSpeed+r.default.getRandom(20))*t),this.node.position.y>=200&&this.node.destroy()},e.prototype.onCollisionEnter=function(t,e){t.name.toLowerCase().includes("enemy")&&cc.tween(this.node).removeSelf().start()},i([c],e.prototype,"bulletSpeed",void 0),e=i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../Util":"Util"}],NetworkedNode:[function(t,e,o){"use strict";cc._RF.push(e,"27b1f+hPgJEor109iSkusUM","NetworkedNode");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../utilities/Utils"),r=t("./SdkFunctions"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._minUpdateInterval=-1,e._timeSinceLastFrame=e._minUpdateInterval,e.syncedVariables=["networkedNodeID","ownerID"],e.previousWatchedVariableValues=new Map,e._lastUpdatedTimestamp=0,e._changeDetected=!1,e}return n(e,t),e.prototype.getPrefabNameKey=function(){return this.node.name},e.prototype.generateNetworkID=function(){this.networkedNodeID||(this.setNetworkID(i.default.generateUUID()),this.assignOwnerID(r.default.getInstance().myPlayerId()))},e.prototype.assignOwnerID=function(t){this.ownerID=t},e.prototype.setNetworkID=function(t){null!=t?(this.networkedNodeID=t,r.default.getInstance().addNetworkNode(this)):(r.default.getInstance().removeNetworkNode(this),this.networkedNodeID=null)},e.prototype.addSyncedVariables=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0,n=t;o<n.length;o++){var i=n[o];this.syncedVariables.push(i)}},e.prototype.convertToData=function(){for(var t={},e=0,o=this.syncedVariables;e<o.length;e++){var n=o[e];t[n]=this.getNodeValue(n),this.previousWatchedVariableValues.has(n)&&this.previousWatchedVariableValues.get(n)==t[n]||(this.previousWatchedVariableValues.set(n,t[n]),this._changeDetected=!0)}return t},e.prototype.updateData=function(){var t=this.convertToData();this._changeDetected&&(this._changeDetected=!1,r.default.getInstance().send_command_NETWORK_NODE_DATA_CHANGED(this,t))},e.prototype.reassignNodeOwner=function(t){if(this.ownerID!=t&&r.default.getInstance().myPlayerId()==this.ownerID||r.default.getInstance().isHost){this.ownerID=t;var e=this.convertToData();r.default.getInstance().send_command_NETWORK_NODE_REASSIGN_OWNER(this,e)}},e.prototype.updateFromData=function(t,e){this._lastUpdatedTimestamp<e?(this._lastUpdatedTimestamp=e,this.onDataReceivedImpl(t)):console.log("@@=> update rejected by time, "+e)},e.prototype.getNodeValue=function(t,e){return void 0===e&&(e=this),t.includes(".")?this.getNodeValue(t.substr(t.indexOf(".")+1),e[t.substr(0,t.indexOf("."))]):e[t]},e.prototype.isSelfOwnNode=function(){return!!this.ownerID&&this.ownerID==r.default.getInstance().myPlayerId()},e.prototype.update=function(t){this._minUpdateInterval>=0&&this.isSelfOwnNode()&&(this._timeSinceLastFrame-=t,this._timeSinceLastFrame<0&&(this._timeSinceLastFrame=this._minUpdateInterval,this.updateData()))},e.prototype.destroyNode=function(){1==this.hasAuthority()&&(r.default.getInstance().send_command_NETWORK_NODE_DESTROY(this),this.setNetworkID(null),this.assignOwnerID(null),this.node.destroy())},e.prototype.destroyOrSendDestroyNodeRequest=function(){1==this.hasAuthority()?this.destroyNode():r.default.getInstance().send_command_KEY_NETWORK_NODE_REQUEST_DESTROY(this)},e.prototype.hasAuthority=function(){return 1==r.default.getInstance().isHost()||this.ownerID==r.default.getInstance().myPlayerId()},e}(cc.Component);o.default=s,cc._RF.pop()},{"../utilities/Utils":"Utils","./SdkFunctions":"SdkFunctions"}],PesudoRandom:[function(t,e,o){"use strict";cc._RF.push(e,"d6f8d1UUrlLgLBY3T5r8D4I","PesudoRandom"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this._seed=Math.floor(t),this._seed<=0&&(this._seed+=2147483646)}return Object.defineProperty(t.prototype,"Seed",{get:function(){return this._seed},enumerable:!1,configurable:!0}),t.prototype.next=function(){return this._seed=16807*this._seed%2147483647},t.prototype.nextFloat=function(){return(this.next()-1)/2147483646},t.prototype.rangeInt=function(t,e){return Math.floor(this.nextFloat()*Math.floor(e-t))+t},t.prototype.rangeFloat=function(t,e){return this.nextFloat()*(e-t)+t},t.prototype.getRandomEnum=function(t){var e=Object.keys(t).length;return this.rangeInt(0,e)},t}();o.default=n,cc._RF.pop()},{}],PlayerEmoticons:[function(t,e,o){"use strict";cc._RF.push(e,"38d6dXnICxGaI+iUhv7066t","PlayerEmoticons");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emoticonBox=null,e.emoticons=new Array,e.timeToKeep=2,e.tweenBox=null,e.tweenEmoji=null,e}return n(e,t),e.prototype.start=function(){this.emoticons.forEach(function(t){t.opacity=0,t.active=!0,t.getComponent(cc.Widget).enabled=!1,t.setPosition(cc.v2(0,5))})},e.prototype.showEmoticon=function(t){var e=this;if(null!=t&&!(t<0||t>=this.emoticons.length)){null!=this.tweenBox&&this.tweenBox.stop(),null!=this.tweenEmoji&&this.tweenEmoji.stop();for(var o=function(){var o=n.emoticons[i];i!=t&&0!=o.opacity&&(o.opacity=0),i==t&&(o.scale=0,o.opacity=0,n.emoticonBox.active=!0,n.emoticonBox.opacity=0,n.emoticonBox.scale=0,n.tweenBox=cc.tween(n.emoticonBox).parallel(cc.tween(n.emoticonBox).to(.3,{opacity:255}),cc.tween(n.emoticonBox).to(.3,{scale:1},{easing:"backOut"})).delay(.8+n.timeToKeep).call(function(){cc.tween(e.emoticonBox).to(.3,{opacity:0}).delay(.3).call(function(){return e.emoticonBox.active=!1}).start()}).start(),n.tweenEmoji=cc.tween(o).delay(.5).parallel(cc.tween(o).to(.3,{opacity:255}),cc.tween(o).to(.3,{scale:1},{easing:"backOut"})).delay(n.timeToKeep).call(function(){cc.tween(o).to(.3,{opacity:0}).delay(.3).call(function(){return o.opacity=0}).start()}).start())},n=this,i=0;i<this.emoticons.length;i++)o()}},i([a(cc.Node)],e.prototype,"emoticonBox",void 0),i([a([cc.Node])],e.prototype,"emoticons",void 0),i([a],e.prototype,"timeToKeep",void 0),e=i([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],PolishEnemy:[function(t,e,o){"use strict";cc._RF.push(e,"21654wGAXdNEZP6yIWYb/Tq","PolishEnemy");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Enemy"),s=t("./DropRate"),a=t("./EffectManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropItem=null,e.isDebuffEnemy=!1,e}return n(e,t),e.prototype.transform2QuickEnemy=function(){this.speedFactor=2,this.scaleFactor=.5,this.isOnScale=!0},e.prototype.transform2GiantEnemy=function(){this.healthPoint=2,this.speedFactor=.5,this.scaleFactor=2,this.isOnScale=!0},e.prototype.setToDebuffEnemy=function(){this.isDebuffEnemy=!0,this.node.color=cc.Color.RED},e.prototype.onAfterBeSkillByAxe=function(){t.prototype.onAfterBeSkillByAxe.call(this);this.node.parent.getComponent(s.default);var e=this.dropItem;null==e||a.default.instance.recieveEffect(this.node.parent.position,e)},e.prototype.onCrossTheLine=function(){t.prototype.onCrossTheLine.call(this),a.default.instance.enemyCrossTheLine(this)},e=i([l],e)}(r.default));o.default=u,cc._RF.pop()},{"../Enemy":"Enemy","./DropRate":"DropRate","./EffectManager":"EffectManager"}],PongMessage:[function(t,e,o){"use strict";cc._RF.push(e,"61b3dSPeYlPB6w4bU15ZJcJ","PongMessage"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o,n,i,r){var s=this;this.retryOnMiliseconds=-1,this.KEY_REQUEST=-1,this.KEY_ACCEPTED=-1,this.target_process_request=null,this.actor_done=null,this._acceptedPeers=new Array,this._accepted=!1,this._done=!1,this._hasBeenSent=!1,this._sdkFunction=null,this._sdkFunction=t,this.retryOnMiliseconds=e,this.KEY_REQUEST=o,this.KEY_ACCEPTED=n,this.target_process_request=i,this.actor_done=r,this._sdkFunction.registerEvent(this.KEY_REQUEST,function(t){return s.receive_command_KEY_REQUEST(t)}),this._sdkFunction.registerEvent(this.KEY_ACCEPTED,function(t){return s.receive_command_KEY_ACCEPTED(t)})}return t.prototype.sendPong=function(t){if(1!=this._hasBeenSent){this._hasBeenSent=!0;var e=Object.assign({},{pong:t});this.send(e)}},t.prototype.reset=function(){this._hasBeenSent=!1,this._accepted=!1,this._done=!1,this._acceptedPeers.splice(0,this._acceptedPeers.length)},t.prototype.send=function(t){var e=this;this._sdkFunction.sendP2PMessage(this.KEY_REQUEST,t),window.setTimeout(function(){e._acceptedPeers.length<e._sdkFunction.opponentCount()&&e.send(t)},this.retryOnMiliseconds)},t.prototype.receive_command_KEY_REQUEST=function(t){null!=t&&(0==this._accepted&&(this._accepted=!0,this.target_process_request(t.pong,t.netMetadata)),this._sdkFunction.sendP2PMessage(this.KEY_ACCEPTED,{}))},t.prototype.receive_command_KEY_ACCEPTED=function(t){null!=t&&(-1==this._acceptedPeers.indexOf(t.netMetadata.senderId)&&this._acceptedPeers.push(t.netMetadata.senderId),this._acceptedPeers.length==this._sdkFunction.opponentCount()&&0==this._done&&(this._done=!0,this.actor_done()))},t}();o.default=n,cc._RF.pop()},{}],RemoteEmoticon:[function(t,e,o){"use strict";cc._RF.push(e,"ee4d8kzNshCgrp6KdpMmf9Q","RemoteEmoticon");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EmoticonController"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconIndex=0,e}return n(e,t),e.prototype.start=function(){var t=this;r.default.getInstance().onEmoticonLoaded(function(){var e=r.default.getInstance().getIconPrefab(t.iconIndex);if(null!=e){var o=cc.instantiate(e);o.setParent(t.node),o.setPosition(new cc.Vec2(0,0))}})},i([c],e.prototype,"iconIndex",void 0),e=i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./EmoticonController":"EmoticonController"}],SDKEngine:[function(t,e,o){"use strict";cc._RF.push(e,"c02c2lVKeBCfJS3C6xR7ZWH","SDKEngine");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(){return function(t,e){this.callback=null,this.timeOutMiliseconds=-1,this.registerTime=-1,this.callback=t,this.timeOutMiliseconds=e,this.registerTime=Date.now()}}()),c=function(){function t(e,o){this.Id=-1,this.callback=null,this.intervalMiliseconds=-1,this.registerTime=-1,this.lastInvokedAt=-1,this.Id=t._idGenerator++,this.callback=e,this.intervalMiliseconds=o,this.registerTime=Date.now(),this.lastInvokedAt=Date.now()}return t._idGenerator=0,t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._timeOutEvents=new Array,e._intervalEvents=new Array,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance},e.setInstance=function(t){this._instance=t},e.prototype.onLoad=function(){o._instance=this},e.prototype.setTimeout=function(t,e){this._timeOutEvents.push(new a(t,e))},e.prototype.setInterval=function(t,e){var o=new c(t,e);return this._intervalEvents.push(o),o.Id},e.prototype.removeInterval=function(t){for(var e=this._intervalEvents.length-1;e>=0;e--)if(this._intervalEvents[e].Id==t)return void this._intervalEvents.splice(e,1)},e.prototype.update=function(t){if(this._timeOutEvents.length>0)for(var e=this._timeOutEvents.length-1;e>=0;e--)if(Date.now()-this._timeOutEvents[e].registerTime>=this._timeOutEvents[e].timeOutMiliseconds){var o=this._timeOutEvents[e];this._timeOutEvents.splice(e,1),o.callback()}if(this._intervalEvents.length>0)for(e=this._intervalEvents.length-1;e>=0;e--)Date.now()-this._intervalEvents[e].lastInvokedAt>=this._intervalEvents[e].intervalMiliseconds&&(this._intervalEvents[e].lastInvokedAt=this._intervalEvents[e].lastInvokedAt+this._intervalEvents[e].intervalMiliseconds,this._intervalEvents[e].callback())},e._instance=null,e=o=i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScoreController:[function(t,e,o){"use strict";cc._RF.push(e,"0cc83eGFBRFupB+iK7IZJTC","ScoreController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../hcg-core/UI/HCG_GameManager"),s=t("./GameController"),a=t("./Util"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.script_GameController=null,e.scoreDisplayPrefab=null,e.comboLabel=null,e.combo=0,e.currentScore=0,e}return n(e,t),e.prototype.onLoad=function(){this.script_GameController=this.getComponent(s.default)},e.prototype.addScore=function(t){var e=cc.instantiate(this.scoreDisplayPrefab),o="0";t<0?(e.color=cc.Color.RED,this.combo=0,this.currentScore>0&&this.currentScore--,this.comboLabel.node.parent.active=!1,o="-1"):(this.combo++,this.currentScore+=t*this.combo,this.comboLabel.string="x"+this.combo,this.comboLabel.node.parent.active=this.combo>=2,o="+"+t*this.combo),e.getComponent(cc.Label).string=o,r.default.instance.updatePlayerScore(this.currentScore),e.setParent(this.script_GameController.slayer),e.setPosition(a.default.getRandom(150,-150),0),cc.tween(e).parallel(cc.moveBy(.3,cc.v2(0,100)),cc.fadeIn(.3)).delay(.5).then(cc.fadeOut(.3)).removeSelf().start()},i([u(cc.Prefab)],e.prototype,"scoreDisplayPrefab",void 0),i([u(cc.Label)],e.prototype,"comboLabel",void 0),e=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../hcg-core/UI/HCG_GameManager":"HCG_GameManager","./GameController":"GameController","./Util":"Util"}],SdkFunctions:[function(t,e,o){"use strict";cc._RF.push(e,"031c9DSFrdHTrPM0sH430qZ","SdkFunctions"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utilities/PesudoRandom"),i=t("../utilities/Utils"),r=t("./PongMessage"),s=t("./SDKEngine"),a=function(){function t(){var e=this;this._sdk=null,this._myPlayerData=null,this._isSinglePlayer=!1,this._isAsyncPVP=!1,this._sdkHandler=null,this._aesKey=null,this._eventMap=new Map,this._bulkMessages=new Array,this._bulkReady=!1,this._bulkDelegate=null,this._isHandShakeFactor=!1,this._handShakeFactorId=null,this._handShakedPeers=new Array,this._doneHandShakePong=null,this._spawnDefaultNodesPong=null,this._cooldownPongMessage=null,this._sessionId=null,this._hostId=null,this._isHost=!1,this._isDoneHandShake=!1,this._initializeNetworkNodes=!1,this._isSelfHandShaked=!1,this._isStartedGame=!1,this._roundTripTimes=new Array,this._maxPingStorage=3,this._pingInterval=3e3,this._timerHandlerId=-1,this._hostLastTick=-1,this._startedPingInterval=!1,this._networkedNodes=new Map,this._initializeWorldPongMessage=null,s.default.getInstance();var o=this;this._sdk=gpSDK,this._isSinglePlayer=this._sdk.isSinglePlayer(),this._isAsyncPVP=this._sdk.isAsyncPVP();var a=null;if(this._sdk.goPlaySDK.getCurrentPlayer(function(t){a=t}),this._myPlayerData=a,1==this.isRealTimeMultiplayer()){for(var c=this.myPlayerId(),l=this.getAllPlayers(),u=0;u<l.length;u++)l[u]>c&&(c=l[u]);if(this._handShakeFactorId=c,this._isHandShakeFactor=this.myPlayerId()==this._handShakeFactorId,1==this._isHandShakeFactor){this._sessionId=i.default.generateUUID();var p=Math.randomInt(0,1e5),d=new n.default(p);this._hostId=l[d.rangeInt(0,l.length)],this._isHost=this.myPlayerId()==this._hostId}}else this._handShakeFactorId=this.myPlayerId(),this._isHandShakeFactor=!0,this._hostId=this.myPlayerId(),this._isHost=!0;console.log("@@=> [SDKFunctions] MatchType: "+this._sdk.goPlaySDK.matchType),console.log("@@=> [SDKFunctions] isSinglePlayer: "+this.isSinglePlayer()),console.log("@@=> [SDKFunctions] isMultiplayer: "+this.isMultiplayer()),console.log("@@=> [SDKFunctions] isRealTimeMultiplayer: "+this.isRealTimeMultiplayer()),console.log("@@=> [SDKFunctions] isHandShakeFactor: "+this._isHandShakeFactor+", id: "+this._handShakeFactorId),this._sdk.sdkOnEvent=function(e,n,i){if(e==t.KEY_INGAME_DATA){var r=n.ingameKey;if(null!=r&&1==o._eventMap.has(r)){var s=o.deserializeData(n);o._eventMap.get(r)(s)}}else console.log("@@=> [SdkOnEvent] Unhandle message: "+e+", playerId: "+i)},this._sdk.updateOpponentScore=function(t,e,n){o._sdkHandler.OnOpponentScoreUpdated(t,n)},this.registerEvent(t.KEY_HAND_SHAKE_REQUEST,function(t){return e.receive_command_HAND_SHAKE_REQUEST(t)}),this.registerEvent(t.KEY_HAND_SHAKE_ACCEPT,function(t){return e.receive_command_HAND_SHAKE_ACCEPT(t)}),this.registerEvent(t.KEY_NETWORK_NODE_REASSIGN_OWNER,function(t){return e.receive_command_NETWORK_NODE_REASSIGN_OWNER(t)}),this.registerEvent(t.KEY_NETWORK_NODE_DATA_CHANGED,function(t){return e.receive_command_NETWORK_NODE_DATA_CHANGED(t)}),this.registerEvent(t.KEY_NETWORK_NODE_SPAWN_NEW_NODE,function(t){return e.receive_command_NETWORK_NODE_SPAWN_NEW_NODE(t)}),this.registerEvent(t.KEY_NETWORK_NODE_DESTROY,function(t){return e.receive_command_NETWORK_NODE_DESTROY(t)}),this.registerEvent(t.KEY_NETWORK_BULK_MESSAGES,function(t){return e.receive_command_NETWORK_BULK_MESSAGES(t)}),this.registerEvent(t.KEY_NETWORK_NODE_REQUEST_DESTROY,function(t){return e.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY(t)}),this._cooldownPongMessage=new r.default(this,300,t.KEY_START_COOLDOWN_TO_PLAY_REQUEST,t.KEY_START_COOLDOWN_TO_PLAY_ACCEPTED,function(t,o){return e.target_process_request_KEY_START_COOLDOWN_TO_PLAY_REQUEST(t,o)},function(){}),this._initializeWorldPongMessage=new r.default(this,1e3,t.KEY_INITIALIZE_GAME_WORLD_ON_COOLDOWN,t.KEY_INITIALIZE_GAME_WORLD_ON_COOLDOWN_ACCEPTED,function(t,o){console.log("@@=> receiveInitializeWorld: "+JSON.stringify(t)),e._sdkHandler.receive_command_INITIALIZE_GAME_WORLD_ON_COOLDOWN(t)},function(){}),this._doneHandShakePong=new r.default(this,300,t.KEY_DONE_HAND_SHAKE_REQUEST,t.KEY_DONE_HAND_SHAKE_ACCEPTED,function(t,o){return e.target_process_request_KEY_DONE_HAND_SHAKE_REQUEST(t,o)},function(){return e.onHostDoneHandShake()}),this._spawnDefaultNodesPong=new r.default(this,300,t.KEY_SPAWN_DEFAULT_NETWORK_NODES_REQUEST,t.KEY_SPAWN_DEFAULT_NETWORK_NODES_ACCEPTED,function(t,o){return e.target_process_KEY_SPAWN_DEFAULT_NETWORK_NODES_REQUEST(t,o)},function(){return e.startCooldownAndSendToPeers()}),null==this._aesKey&&(this._aesKey=this.GetAESKey(),s.default.getInstance())}return t.getInstance=function(){return null==this._instance&&(console.log("@@ => [SDKFunction] Instance NULL"),this._instance=new t),this._instance},t.prototype.loadingExpiredAt=function(){return this._sdk.loadingExpiredAt()},t.prototype.RemainLoadingTime=function(){var t=this._sdk.loadingExpiredAt()-Date.now();return t=t<0?0:Math.round(t/1e3)},t.prototype.myPlayerId=function(){return null!=this._myPlayerData&&this._myPlayerData.id?this._myPlayerData.id:"MYPLAYER_EDITOR"},t.prototype.getMyPlayerID=function(){return this.myPlayerId()},t.prototype.myPlayerData=function(){return null!=this._myPlayerData&&this._myPlayerData.id?this._myPlayerData:{id:"MYPLAYER_EDITOR",name:"My player"}},t.prototype.opponentPlayerId=function(){var t=this.getOpponents();return 0==t.length?"OPPONENT_COMPUTER":t[0]},t.prototype.isSinglePlayer=function(){return this._isSinglePlayer},t.prototype.isAsyncPVP=function(){return this._isAsyncPVP},t.prototype.isMultiplayer=function(){return!this._isSinglePlayer},t.prototype.isRealTimeMultiplayer=function(){return 1==this.isMultiplayer()&&0==this.isAsyncPVP()},t.prototype.getOpponents=function(){return Object.keys(this._sdk.opponents)},t.prototype.opponentCount=function(){return this.getOpponents().length},t.prototype.getOpponentsData=function(){return Object.values(this._sdk.opponents)},t.prototype.getAllPlayers=function(){var t=this.getOpponents();return-1==t.indexOf(this.myPlayerId())&&t.push(this.myPlayerId()),t},t.prototype.isSpawner=function(){return this.isHost()},t.prototype.showOpponentProfile=function(t){this._sdk.showOpponentProfile(t)},t.prototype.receive_command_NETWORK_BULK_MESSAGES=function(t){if(null!=t&&null!=t.bulk&&0!=t.bulk.length)for(var e=t.senderId,o=t.sessionId,n=0;n<t.bulk.length;n++){var i=t.bulk[n],r=i.ingameKey;if(null!=r&&1==this._eventMap.has(r)){var s=this.deserializeBulkData(i,o,e);this._eventMap.get(r)(s)}}},t.prototype.setSDKHandler=function(t){this._sdkHandler=t,this._sdkHandler.OnSelfPlayerDataUpdated(this.myPlayerData());var e=this.getOpponentsData();null!=e&&e.length>0&&this._sdkHandler.OnOpponentUpdated(e[0])},t.prototype.readyToStartGame=function(){var t=this;1==this._isHandShakeFactor&&1==this.isRealTimeMultiplayer()&&(0==this._sdk.gameStarted?this._sdk.onOpponentsReady=function(){t.send_command_HAND_SHAKE_REQUEST_If_Factor()}:this.send_command_HAND_SHAKE_REQUEST_If_Factor()),console.log("@@=> Raise ready to start game!"),this._sdk.startGame(),0==this.isRealTimeMultiplayer()&&(this._isSelfHandShaked=!0,this._isDoneHandShake=!0,this._initializeNetworkNodes=!0,this.spawnDefaultNetworkNodesIfHost(),this.startGame())},t.prototype.sendCurrentScore=function(t){this._sdk.setScore(t)},t.prototype.abortGame=function(){this._sdk.goPlaySDK.abortGame(function(){},function(){}),this.MP_StopPingInterval(),null!=this._bulkDelegate&&(s.default.getInstance().unschedule(this._bulkDelegate),this._bulkDelegate=null)},t.prototype.triggerGameOver=function(){this._sdk.updateFinalScore(),this.MP_StopPingInterval(),null!=this._bulkDelegate&&(s.default.getInstance().unschedule(this._bulkDelegate),this._bulkDelegate=null)},t.prototype.registerEvent=function(t,e){this._eventMap.set(t,e)},t.prototype.removeEvent=function(t){this._eventMap.delete(t)},t.prototype.serializeData=function(t,e){return{senderId:this.myPlayerId(),timeTick:this.getTick(),sessionId:this._sessionId,p2p:e,ingameKey:t}},t.prototype.serializeBulkData=function(t,e){return{timeTick:this.getTick(),p2p:e,ingameKey:t}},t.prototype.deserializeData=function(t){if(null!=t){var e=t.p2p,o={timeTick:t.timeTick,senderId:t.senderId,sessionId:t.sessionId};if(null!=e)return e.timeTick=t.timeTick,e.netMetadata=o,e}return cc.warn("Received unknown p2p data"),null},t.prototype.deserializeBulkData=function(t,e,o){if(null!=t){var n=t.p2p,i={timeTick:t.timeTick,senderId:o,sessionId:e};if(null!=n)return n.timeTick=t.timeTick,n.netMetadata=i,n}return cc.warn("Received unknown p2p data"),null},t.prototype.sendP2PMessage=function(e,o){1==this._bulkReady?this._bulkMessages.push(this.serializeBulkData(e,o)):this._sdk.goPlaySDK.sendEvent(t.KEY_INGAME_DATA,this.serializeData(e,o))},t.prototype.sendAndSaveP2PMessage=function(e,o){this._sdk.goPlaySDK.sendEvent(t.KEY_INGAME_DATA,this.serializeData(e,o),!0)},t.prototype.simulateSendLaggyP2PMessage=function(e,o,n,i,r){var s=this;void 0===r&&(r=!1);var a=this._bulkReady,c=null;c=0==this._bulkReady?this.serializeData(n,i):this.serializeBulkData(n,i),cc.tween(e).delay(o).call(function(){0==a?s._sdk.goPlaySDK.sendEvent(t.KEY_INGAME_DATA,c):s._bulkMessages.push(i)}).start()},t.prototype.startBulkMessages=function(){this._bulkReady=!0;var e=this;this._bulkDelegate=function(){if(null!=e._bulkMessages&&e._bulkMessages.length>0){var o=e.serializeData(t.KEY_NETWORK_BULK_MESSAGES,{senderId:e.myPlayerId(),sessionId:e._sessionId,bulk:e._bulkMessages});e._sdk.goPlaySDK.sendEvent(t.KEY_INGAME_DATA,o),e._bulkMessages.splice(0,e._bulkMessages.length)}},s.default.getInstance().schedule(this._bulkDelegate,.1)},Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hostId",{get:function(){return this._hostId},enumerable:!1,configurable:!0}),t.prototype.isHost=function(){return this._isHost},t.prototype.send_command_HAND_SHAKE_REQUEST_If_Factor=function(){var e=this;if(1==this._isHandShakeFactor){var o={sessionId:this._sessionId,hostId:this._hostId};this._isSelfHandShaked=!0,this.sendP2PMessage(t.KEY_HAND_SHAKE_REQUEST,o);var n=window.setInterval(function(){1==e._isDoneHandShake?window.clearInterval(n):e.sendP2PMessage(t.KEY_HAND_SHAKE_REQUEST,o)},2e3)}},t.prototype.receive_command_HAND_SHAKE_REQUEST=function(e){var o=this;if(null!=e&&0==this._isSelfHandShaked){this._isSelfHandShaked=!0,this._sessionId=e.sessionId,this._hostId=e.hostId,this._isHost=this.myPlayerId()==this._hostId,console.log("@@=> Retrieve sessionId: "+this._sessionId+", hostId: "+this._hostId);var n={peerId:this.myPlayerId(),sessionId:this._sessionId};this.sendP2PMessage(t.KEY_HAND_SHAKE_ACCEPT,n);var i=window.setInterval(function(){1==o._isDoneHandShake?window.clearInterval(i):o.sendP2PMessage(t.KEY_HAND_SHAKE_ACCEPT,n)},2e3)}},t.prototype.receive_command_HAND_SHAKE_ACCEPT=function(t){if(null!=t&&1==this._isHandShakeFactor&&0==this._isDoneHandShake){var e=this.getOpponents();e.indexOf(t.peerId)>=0&&t.sessionId==this._sessionId&&(-1==this._handShakedPeers.indexOf(t.peerId)&&this._handShakedPeers.push(t.peerId),this._handShakedPeers.length==e.length&&(this._isDoneHandShake=!0,this._doneHandShakePong.sendPong({})))}},t.prototype.target_process_request_KEY_DONE_HAND_SHAKE_REQUEST=function(t,e){0==this._isDoneHandShake&&(this._isDoneHandShake=!0,this.onHostDoneHandShake())},t.prototype.onHostDoneHandShake=function(){if(1==this._isHost&&0==this._initializeNetworkNodes){this._initializeNetworkNodes=!0;var t=this.spawnDefaultNetworkNodesIfHost();1==this.isRealTimeMultiplayer()&&(this.MP_StartPingInterval(),this._spawnDefaultNodesPong.sendPong(t))}},t.prototype.target_process_KEY_SPAWN_DEFAULT_NETWORK_NODES_REQUEST=function(t,e){null!=t&&0==this._initializeNetworkNodes&&e.sessionId==this._sessionId&&(this._initializeNetworkNodes=!0,this._sdkHandler.MP_Client_AssignNetworkNodes(t))},t.prototype.startCooldownAndSendToPeers=function(){if(1==this._isHost&&1==this.isRealTimeMultiplayer()){this._cooldownPongMessage.sendPong({});var e=this;s.default.getInstance().setTimeout(function(){e.startGame()},t.COOLDOWN_TO_START)}else this.startGame()},t.prototype.target_process_request_KEY_START_COOLDOWN_TO_PLAY_REQUEST=function(e,o){if(o.sessionId==this._sessionId){var n=t.COOLDOWN_TO_START-(this.getTick()-o.timeTick);if(n>0){var i=this;s.default.getInstance().setTimeout(function(){i.startGame()},n)}else this.startGame()}},t.prototype.startGame=function(){0==this._isStartedGame&&(console.log("@@==> [startGame] isHost: "+this._isHost+", hostId: "+this._hostId),this._isStartedGame=!0,1==this.isRealTimeMultiplayer()&&this.startBulkMessages(),null!=this._sdkHandler?this._sdkHandler.OnOpponentsReady():console.log("@@=> No sdk handler has been bind! the game will not be started"))},t.prototype.getTick=function(){return this._isHost||-1==this._hostLastTick?Date.now():this._hostLastTick+(Date.now()-this._lastSyncLocalTime)},t.prototype.MP_StartPingInterval=function(){var e=this;0==this._startedPingInterval&&(this._startedPingInterval=!0,this._hostLastTick=-1,1==this.isRealTimeMultiplayer()&&(this.registerEvent(t.KEY_PING,function(t){return e.handlePing(t)}),this.sendPing(),this._timerHandlerId=setInterval(function(){return e.sendPing()},this._pingInterval)))},t.prototype.MP_StopPingInterval=function(){1==this.isRealTimeMultiplayer()&&clearInterval(this._timerHandlerId)},t.prototype.getAveragePing=function(){if(this._roundTripTimes.length>0){var t=0;return this._roundTripTimes.forEach(function(e){t+=e}),t/this._roundTripTimes.length}return 0},t.prototype.getAverageSendTime=function(){return this.getAveragePing()/2},t.prototype.handlePing=function(e){if(null!=e){var o=(new Date).getTime();if(e.senderId==this.myPlayerId()){var n=o-e.senderTime;this._roundTripTimes.push(n),this._roundTripTimes.length>this._maxPingStorage&&this._roundTripTimes.shift(),0==this._isHost&&(this._hostLastTick=Math.round(e.receiverTick+e.receiverLastPing/2),this._lastSyncLocalTime=Date.now())}else this.sendP2PMessage(t.KEY_PING,{senderTime:e.senderTime,senderTick:e.senderTick,senderId:e.senderId,receiverTick:this.getTick(),receiverLastPing:this.getAveragePing()})}},t.prototype.sendPing=function(){var e=(new Date).getTime();this.sendP2PMessage(t.KEY_PING,{senderTime:e,senderTick:this.getTick(),senderId:this.myPlayerId()})},t.prototype.addNetworkNode=function(t){null!=t&&0==this._networkedNodes.has(t.networkedNodeID)&&this._networkedNodes.set(t.networkedNodeID,t)},t.prototype.removeNetworkNode=function(t){null!=t&&1==this._networkedNodes.has(t.networkedNodeID)&&this._networkedNodes.delete(t.networkedNodeID)},t.prototype.getNetworkNode=function(t){return null==t?null:1==this._networkedNodes.has(t)?this._networkedNodes.get(t):null},t.prototype.spawnDefaultNetworkNodesIfHost=function(){var t=[];if(1==this._isHost)for(var e=0,o=this._sdkHandler.MP_Host_AssignNetworkedNodes();e<o.length;e++){var n=o[e];this.addNetworkNode(n),t.push(n.convertToData())}return t},t.prototype.send_command_NETWORK_NODE_REASSIGN_OWNER=function(e,o){1==this.isRealTimeMultiplayer()&&this.sendP2PMessage(t.KEY_NETWORK_NODE_REASSIGN_OWNER,{newOwnerId:e.ownerID,nodeId:e.networkedNodeID,nodeData:o})},t.prototype.receive_command_NETWORK_NODE_REASSIGN_OWNER=function(t){if(null!=t&&this._networkedNodes.has(t.nodeId)){var e=this._networkedNodes.get(t.nodeId);t.netMetadata.senderId!=e.ownerID&&t.netMetadata.senderId!=this._hostId||(e.ownerID=t.newOwnerID,e.updateFromData(t.nodeData,t.netMetadata.timeTick))}},t.prototype.send_command_NETWORK_NODE_DATA_CHANGED=function(e,o){1==this.isRealTimeMultiplayer()&&this.sendP2PMessage(t.KEY_NETWORK_NODE_DATA_CHANGED,{nodeId:e.networkedNodeID,nodeData:o})},t.prototype.receive_command_NETWORK_NODE_DATA_CHANGED=function(t){if(null!=t)if(this._networkedNodes.has(t.nodeId)){var e=this._networkedNodes.get(t.nodeId);t.netMetadata.senderId==e.ownerID&&e.updateFromData(t.nodeData,t.timeTick)}else console.log("@@=> node not found for update data change: "+t.nodeId)},t.prototype.send_command_NETWORK_NODE_SPAWN_NEW_NODE=function(){for(var e=this,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var i=[];o.forEach(function(t){t.generateNetworkID(),e.addNetworkNode(t),i.push({nodeId:t.networkedNodeID,ownerId:t.ownerID,prefabName:t.getPrefabNameKey(),nodeData:t.convertToData()})}),1==this.isRealTimeMultiplayer()&&this.sendP2PMessage(t.KEY_NETWORK_NODE_SPAWN_NEW_NODE,{nodesData:i})},t.prototype.receive_command_NETWORK_NODE_SPAWN_NEW_NODE=function(t){var e=this;null!=t&&t.nodesData.forEach(function(o){if(0==e._networkedNodes.has(o.nodeId)){var n=e._sdkHandler.MP_OnInitializeNetworkedNode(o.prefabName);n.assignOwnerID(o.ownerId),n.setNetworkID(o.nodeId),e.addNetworkNode(n),n.updateFromData(o.nodeData,t.timeTick)}})},t.prototype.send_command_NETWORK_NODE_DESTROY=function(e){this.removeNetworkNode(e),1==this.isRealTimeMultiplayer()&&this.sendP2PMessage(t.KEY_NETWORK_NODE_DESTROY,{nodeId:e.networkedNodeID,ownerId:e.ownerID})},t.prototype.receive_command_NETWORK_NODE_DESTROY=function(t){if(null!=t)if(t.ownerId!=t.netMetadata.senderId&&t.netMetadata.senderId!=this._hostId||1!=this._networkedNodes.has(t.nodeId))console.log("@@=> failed to destroy node, auth or not found: "+t.nodeId);else{var e=this._networkedNodes.get(t.nodeId);this.removeNetworkNode(e),e.node.destroy()}},t.prototype.send_command_KEY_NETWORK_NODE_REQUEST_DESTROY=function(e){null!=e&&0!=this.isRealTimeMultiplayer()&&(0==e.hasAuthority()?this.sendP2PMessage(t.KEY_NETWORK_NODE_REQUEST_DESTROY,{nodeId:e.networkedNodeID,ownerId:e.ownerID}):console.log("@@=> invalid destroy request, the sender has full authority to destroy by them self."))},t.prototype.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY=function(t){if(null!=t){var e=this.getNetworkNode(t.nodeId);null!=e&&1==e.hasAuthority()&&this._sdkHandler.receive_command_KEY_NETWORK_NODE_REQUEST_DESTROY(e)}},t.prototype.EncryptDatas=function(t){var e=JSON.stringify(t),o=aesjs.utils.utf8.toBytes(e),n=new aesjs.ModeOfOperation.ctr(this._aesKey,new aesjs.Counter).encrypt(o);return aesjs.utils.hex.fromBytes(n)},t.prototype.DecryptDatas=function(t){if(null==t)return null;var e=aesjs.utils.hex.toBytes(t),o=new aesjs.ModeOfOperation.ctr(this._aesKey,new aesjs.Counter).decrypt(e),n=aesjs.utils.utf8.fromBytes(o);new Array;return JSON.parse(n)},t.prototype.GetAESKey=function(){var t=this._sdk.getAESKey();return null==t&&console.log("@@ => [SDKFunction] AES key NULL"),aesjs.utils.hex.toBytes(t)},t.prototype.SetGameStateData=function(t){var e=this.EncryptDatas(t);this._sdk.setGameState(e)},t.prototype.GetGameStateData=function(){var t=this._sdk.getGameState();return this.DecryptDatas(t)},t.prototype.send_command_INITIALIZE_GAME_WORLD_ON_COOLDOWN=function(t){1==this.isRealTimeMultiplayer()&&this._initializeWorldPongMessage.sendPong(t)},t.COOLDOWN_TO_START=500,t.KEY_INGAME_DATA=50,t.KEY_PING=1e5,t.KEY_EMOTICON=100001,t.KEY_HAND_SHAKE_REQUEST=100002,t.KEY_HAND_SHAKE_ACCEPT=100003,t.KEY_SPAWN_DEFAULT_NETWORK_NODES_REQUEST=100004,t.KEY_NETWORK_NODE_REASSIGN_OWNER=100005,t.KEY_NETWORK_NODE_DATA_CHANGED=100006,t.KEY_NETWORK_NODE_SPAWN_NEW_NODE=100007,t.KEY_NETWORK_NODE_DESTROY=100008,t.KEY_NETWORK_BULK_MESSAGES=100009,t.KEY_SPAWN_STATUS_ITEM=100010,t.KEY_START_COOLDOWN_TO_PLAY_REQUEST=100011,t.KEY_INITIALIZE_GAME_WORLD_ON_COOLDOWN=100012,t.KEY_INITIALIZE_GAME_WORLD_ON_COOLDOWN_ACCEPTED=100013,t.KEY_START_COOLDOWN_TO_PLAY_ACCEPTED=100014,t.KEY_DONE_HAND_SHAKE_REQUEST=100015,t.KEY_DONE_HAND_SHAKE_ACCEPTED=100016,t.KEY_SPAWN_DEFAULT_NETWORK_NODES_ACCEPTED=100017,t.KEY_NETWORK_NODE_REQUEST_DESTROY=100018,t._instance=null,t}();o.default=a,cc._RF.pop()},{"../utilities/PesudoRandom":"PesudoRandom","../utilities/Utils":"Utils","./PongMessage":"PongMessage","./SDKEngine":"SDKEngine"}],SetExtensions:[function(t,e,o){"use strict";cc._RF.push(e,"d82e7I5ToVF4Zg+tn9MBDub","SetExtensions"),Set.prototype.getRandom=function(){for(var t=Math.floor(Math.random()*this.size),e=0,o=0;o<this.length;o++){var n=this[o];if(e++===t)return n}},Set.prototype.convertToArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},Set.prototype.getRandom_Old=function(){return Array.from(this).getRandom()},cc._RF.pop()},{}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"e3eb1o2CLBIJbWkpdRzl9OX","SoundManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../sdk/SdkFunctions"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundButton=null,e.muteIcon=null,e.gameIdentifier="PLATFORM_GAME_IDENTIFIER",e.defaultBGMusic=null,e.playMusicOnLoad=!0,e.defaultBGMusicLoop=!0,e.bgMusicVolumn=1,e.sfx_Button=null,e.sfx_ScoreIncrease=null,e.sfx_ScoreDecrease=null,e.sfx_CountDownNumber=null,e.sfx_CountDownStart=null,e._sources=new Array,e._isOn=!0,e._saveKey=null,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance},e.prototype.onLoad=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="SoundManager",t.handler="onClickOnOffSound",this.soundButton.clickEvents.push(t),o._instance=this,this._saveKey="SOUND_SETTING_"+this.gameIdentifier+"_"+r.default.getInstance().myPlayerId();var e=cc.sys.localStorage.getItem(this._saveKey);this._isOn=!0,void 0!=e&&null!=e&&"false"==e&&(this._isOn=!1)},e.prototype.start=function(){1==this.playMusicOnLoad&&null!=this.defaultBGMusic&&this.playMusic(this.defaultBGMusic,this.defaultBGMusicLoop),this.onOffSoundAndMusic(this._isOn)},e.prototype.onDestroy=function(){this.soundButton.clickEvents.slice(0,this.soundButton.clickEvents.length)},e.prototype.onClickOnOffSound=function(){this.PlayButtonSFX(),this._isOn=!this._isOn,this.onOffSoundAndMusic(this._isOn)},e.prototype.registerSource=function(t){null!=t&&this._sources.indexOf(t)<0&&(this._sources.push(t),t.mute=!this._isOn)},e.prototype.removeSource=function(t){if(null!=t){var e=this._sources.indexOf(t);e>=0&&this._sources.splice(e,1)}},e.prototype.playSound=function(t,e){var o=-1;return null!=t&&(o=cc.audioEngine.playEffect(t,e)),o},e.prototype.playMusic=function(t,e){null!=t&&cc.audioEngine.playMusic(t,e)},e.prototype.stopSound=function(t){null!=t&&-1!=t&&cc.audioEngine.stopEffect(t)},e.prototype.onOffSoundAndMusic=function(t){this._isOn=t,cc.sys.localStorage.setItem(this._saveKey,t),this.muteIcon.active=!t,1==t?(cc.audioEngine.setMusicVolume(this.bgMusicVolumn),cc.audioEngine.setEffectsVolume(1),this._sources.forEach(function(t){null!=t&&(t.mute=!1)})):(cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0),this._sources.forEach(function(t){null!=t&&(t.mute=!0)}))},e.prototype.PlayButtonSFX=function(){this.playSound(this.sfx_Button,!1)},e.prototype.PlayScoreIncreaseSFX=function(){this.playSound(this.sfx_ScoreIncrease,!1)},e.prototype.PlayScoreDecreaseSFX=function(){this.playSound(this.sfx_ScoreDecrease,!1)},e.prototype.PlayCountDownNumberSFX=function(){this.playSound(this.sfx_CountDownNumber,!1)},e.prototype.PlayCountDownStartSFX=function(){this.playSound(this.sfx_CountDownStart,!1)},e._instance=null,i([c(cc.Button)],e.prototype,"soundButton",void 0),i([c(cc.Node)],e.prototype,"muteIcon",void 0),i([c],e.prototype,"gameIdentifier",void 0),i([c(cc.AudioClip)],e.prototype,"defaultBGMusic",void 0),i([c],e.prototype,"playMusicOnLoad",void 0),i([c],e.prototype,"defaultBGMusicLoop",void 0),i([c({range:[0,1],slide:!0})],e.prototype,"bgMusicVolumn",void 0),i([c(cc.AudioClip)],e.prototype,"sfx_Button",void 0),i([c(cc.AudioClip)],e.prototype,"sfx_ScoreIncrease",void 0),i([c(cc.AudioClip)],e.prototype,"sfx_ScoreDecrease",void 0),i([c(cc.AudioClip)],e.prototype,"sfx_CountDownNumber",void 0),i([c(cc.AudioClip)],e.prototype,"sfx_CountDownStart",void 0),e=o=i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../sdk/SdkFunctions":"SdkFunctions"}],StatusIcon:[function(t,e,o){"use strict";cc._RF.push(e,"3dd20zyggJBEYWF/nIiVaSg","StatusIcon");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillImage=null,e.iconImage=null,e.itemType=0,e}return n(e,t),e.prototype.setTime=function(t,e){this.fillImage.fillRange=e/t},i([a(cc.Sprite)],e.prototype,"fillImage",void 0),i([a(cc.Sprite)],e.prototype,"iconImage",void 0),i([a],e.prototype,"itemType",void 0),e=i([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],TimeSpan:[function(t,e,o){"use strict";cc._RF.push(e,"40d52wvObRET4kXVi78xlTH","TimeSpan"),Object.defineProperty(o,"__esModule",{value:!0}),o.TimeSpan=void 0;var n=function(){function t(t){void 0===t&&(t=0),this._seconds=0,this._minutes=0,this._hours=0,this._days=0,this.milliseconds=t}return t.Subtract=function(e,o){return new t(e-o)},t.Day=function(){return new t(864e5)},t.Hour=function(){return new t(36e5)},t.Week=function(){return new t(6048e5)},t.Month=function(){var e=new Date,o=new Date;return o.setMonth(o.getMonth()-1),new t(e-o)},t.prototype.addTo=function(t){return console.log("add "+this.totalMilliSeconds,this),t.setMilliseconds(t.getMilliseconds()+this.totalMilliSeconds),t},t.prototype.subtructFrom=function(t){return t.setMilliseconds(t.getMilliseconds()-this.totalMilliSeconds),t},Object.defineProperty(t.prototype,"days",{get:function(){return this._days},set:function(t){isNaN(t)&&(t=0),this._days=t,this.calcMilliSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return this._hours},set:function(t){isNaN(t)&&(t=0),this._hours=t,this.calcMilliSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return this._minutes},set:function(t){isNaN(t)&&(t=0),this._minutes=t,this.calcMilliSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seconds",{get:function(){return this._seconds},set:function(t){this._seconds=t,this.calcMilliSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"milliseconds",{get:function(){return this._milliseconds},set:function(t){isNaN(t)&&(t=0),this._milliseconds=t,this.calcMilliSeconds()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMilliSeconds",{get:function(){return this._totalMilliSeconds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalSeconds",{get:function(){return Math.round(this._totalMilliSeconds/1e3)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinutes",{get:function(){return Math.round(this._totalMilliSeconds/6e4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalHours",{get:function(){return Math.round(this._totalMilliSeconds/36e5)},enumerable:!1,configurable:!0}),t.prototype.roundValue=function(t,e){return{modulu:t%e,addition:Math.floor(t/e)}},t.prototype.calcMilliSeconds=function(){var t=this.roundValue(this._milliseconds,1e3);this._milliseconds=t.modulu,this._seconds+=t.addition;var e=this.roundValue(this._seconds,60);this._seconds=e.modulu,this._minutes+=e.addition;var o=this.roundValue(this._minutes,60);this._minutes=o.modulu,this._hours+=o.addition;var n=this.roundValue(this._hours,24);this._hours=n.modulu,this._days+=n.addition,this._totalMilliSeconds=864e5*this.days+36e5*this.hours+6e4*this.minutes+1e3*this.seconds+this.milliseconds},t}();o.TimeSpan=n,cc._RF.pop()},{}],TouchController:[function(t,e,o){"use strict";cc._RF.push(e,"af673KGIshOB654j/dNQ5VT","TouchController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameController"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.script_GameControllerNode=null,e._script_GameController=null,e.slayer=null,e.leftDash=null,e.rightDash=null,e.defaultSprite=null,e.sfxSwing=null,e.slayerSprite=null,e.lastPositionX=0,e.speed=1400,e.moveDirectionX=0,e.canMove=!1,e.currentDirection=1,e.left=!1,e.useMouse=!1,e.axeSpeed=200,e.originSpeed_Axe=200,e.isAutoSwing=!1,e.isOn_adjustAxeRange=!1,e.axeScale=1,e.nodeAxe=null,e.nodeAxeBody=null,e.nodeAxeTrail=null,e.bulletPrefab=null,e.nodeGun=null,e.nodeBulletSpawn=null,e.shootSound=null,e.nodeBulletParent=null,e.isOn_GunMode=!1,e}return n(e,t),Object.defineProperty(e.prototype,"script_GameController",{get:function(){return null==this._script_GameController&&(this._script_GameController=this.script_GameControllerNode.getComponent(r.default)),this._script_GameController},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.slayerSprite=this.slayer.getChildByName("player").getComponent(cc.Sprite),this.defaultSprite=this.slayerSprite.spriteFrame,this.originSpeed=this.speed,this.nodeAxe=this.slayer.getChildByName("sword"),this.nodeAxeBody=this.slayer.getChildByName("sword").getChildByName("swordbody"),this.nodeAxeTrail=this.slayer.getChildByName("sword").getChildByName("swordbody").getChildByName("AxeTrail")},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e,o){t.lastPositionX=e.getLocation().x,t.useMouse=!0,t.canMove=!0},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e,o){t.moveDirectionX=Math.sign(e.getLocation().x-t.lastPositionX),t.lastPositionX=e.getLocation().x},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.moveDirectionX=0,t.canMove=!1,t.slayerSprite.spriteFrame=t.defaultSprite},this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t.moveDirectionX=0,t.canMove=!1,t.slayerSprite.spriteFrame=t.defaultSprite},this.node),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.schedule(function(){1!=t.isOn_GunMode||t.script_GameController.isGameOver||t.spawnBullets()},.1)},e.prototype.onKeyDown=function(t){switch(this.useMouse=!1,this.canMove=!0,t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:this.moveDirectionX=-1;break;case cc.macro.KEY.d:case cc.macro.KEY.right:this.moveDirectionX=1}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:-1==this.moveDirectionX&&(this.moveDirectionX=0,this.canMove=!1,this.slayerSprite.spriteFrame=this.defaultSprite);break;case cc.macro.KEY.d:case cc.macro.KEY.right:1==this.moveDirectionX&&(this.moveDirectionX=0,this.canMove=!1,this.slayerSprite.spriteFrame=this.defaultSprite)}},e.prototype.update=function(t){var e=this;if(!this.script_GameController.isGameOver){if(1==this.isAutoSwing){this.nodeAxeTrail.getComponent(cc.Sprite).enabled=!0,this.nodeAxe.getComponent(cc.RigidBody).angularVelocity+=1*this.axeSpeed}1==this.isOn_GunMode?(this.nodeAxe.active=!1,this.nodeGun.active=!0):(this.nodeAxe.active=!0,this.nodeGun.active=!1)}if(this.canMove&&!this.script_GameController.isGameOver){var o=this.slayer.x+this.moveDirectionX*this.speed*t;o<this.node.getContentSize().width/2-100&&o>-this.node.getContentSize().width/2+100?(this.slayer.setPosition(o,this.slayer.y),0!=this.moveDirectionX&&this.currentDirection!=this.moveDirectionX?(cc.audioEngine.playEffect(this.sfxSwing,!1),this.currentDirection=this.moveDirectionX,cc.tween(this.nodeAxeTrail).call(function(){e.nodeAxeTrail.getComponent(cc.Sprite).enabled=!0}).delay(.5).call(function(){e.nodeAxeTrail.getComponent(cc.Sprite).enabled=!1}).start(),-1==this.moveDirectionX&&(this.slayerSprite.spriteFrame=this.leftDash,this.slayer.getChildByName("leftDust").getComponent(cc.Animation).play(),this.nodeAxeBody.scaleX=-1,this.nodeAxeBody.setScale(-1*this.axeScale,this.axeScale)),1==this.moveDirectionX&&(this.slayerSprite.spriteFrame=this.rightDash,this.slayer.getChildByName("rightDust").getComponent(cc.Animation).play(),this.nodeAxeBody.scaleX=1,this.nodeAxeBody.setScale(1*this.axeScale,this.axeScale)),0==this.isAutoSwing&&(this.nodeAxe.getComponent(cc.RigidBody).angularVelocity=0,this.nodeAxe.getComponent(cc.RigidBody).angularVelocity+=this.axeSpeed*this.moveDirectionX)):0==this.isAutoSwing&&(this.nodeAxe.getComponent(cc.RigidBody).angularVelocity+=30*this.moveDirectionX),this.slayer.children.forEach(function(t){null!=t.getComponent(cc.RigidBody)&&t.getComponent(cc.RigidBody).syncPosition(!1)})):(this.slayer.setPosition(this.slayer.x,this.slayer.y),this.slayerSprite.spriteFrame=this.defaultSprite),1==this.useMouse&&(this.moveDirectionX=0)}},e.prototype.adjustSlayerSpeed=function(t,e){if(this.speed>this.originSpeed*t){if(this.originSpeed*t>1)return;this.speed=this.originSpeed*t}else this.speed=this.originSpeed*t;1==this.isOn_adjustSlayerSpeed&&this.unschedule(this.callback_adjustSlayerSpeed),this.waitSecond_adjustSpeed(e)},e.prototype.waitSecond_adjustSpeed=function(t){this.isOn_adjustSlayerSpeed=!0,this.scheduleOnce(this.callback_adjustSlayerSpeed,t)},e.prototype.callback_adjustSlayerSpeed=function(){this.isOn_adjustSlayerSpeed=!1,this.speed=this.originSpeed},e.prototype.autoSwing=function(t,e){this.axeSpeed>this.originSpeed_Axe*t||(this.axeSpeed=this.originSpeed_Axe*t,1==this.isAutoSwing&&this.unschedule(this.callback_autoSwing),this.waitSecond_autoSwing(e))},e.prototype.waitSecond_autoSwing=function(t){this.isAutoSwing=!0,this.scheduleOnce(this.callback_autoSwing,t)},e.prototype.callback_autoSwing=function(){this.isAutoSwing=!1,this.axeSpeed=this.originSpeed_Axe},e.prototype.adjustAxeRange=function(t,e){this.axeScale>t||(this.axeScale=t,1==this.isOn_adjustAxeRange&&this.unschedule(this.callback_adjustAxeRange),this.waitSecond_adjustAxeRange(e))},e.prototype.waitSecond_adjustAxeRange=function(t){this.isOn_adjustAxeRange=!0,this.scheduleOnce(this.callback_adjustAxeRange,t)},e.prototype.callback_adjustAxeRange=function(){this.isOn_adjustAxeRange=!1,this.axeScale=1;var t=0==this.moveDirectionX?1:this.moveDirectionX;this.nodeAxeBody.setScale(t*this.axeScale,this.axeScale),this.nodeAxeTrail.getComponent(cc.Sprite).enabled=!1},e.prototype.spawnBullets=function(){var t=cc.instantiate(this.bulletPrefab),e=this.nodeBulletSpawn.parent.convertToWorldSpaceAR(this.nodeBulletSpawn.getPosition()),o=this.nodeBulletParent.convertToNodeSpaceAR(e);t.setParent(this.nodeBulletParent),t.setPosition(o),cc.audioEngine.playEffect(this.shootSound,!1)},e.prototype.bonusAxeGun=function(t){1==this.isOn_adjustAxeRange&&this.unschedule(this.waitSecond_bonusAxeGun),this.waitSecond_bonusAxeGun(t)},e.prototype.waitSecond_bonusAxeGun=function(t){this.isOn_GunMode=!0,this.scheduleOnce(this.callback_bonusAxeGun,t)},e.prototype.callback_bonusAxeGun=function(){this.isOn_GunMode=!1},i([c(cc.Node)],e.prototype,"script_GameControllerNode",void 0),i([c(cc.Node)],e.prototype,"slayer",void 0),i([c(cc.SpriteFrame)],e.prototype,"leftDash",void 0),i([c(cc.SpriteFrame)],e.prototype,"rightDash",void 0),i([c({type:cc.AudioClip})],e.prototype,"sfxSwing",void 0),i([c(cc.Prefab)],e.prototype,"bulletPrefab",void 0),i([c(cc.Node)],e.prototype,"nodeGun",void 0),i([c(cc.Node)],e.prototype,"nodeBulletSpawn",void 0),i([c(cc.AudioClip)],e.prototype,"shootSound",void 0),i([c(cc.Node)],e.prototype,"nodeBulletParent",void 0),i([c],e.prototype,"isOn_GunMode",void 0),e=i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./GameController":"GameController"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"71893PFl7lMcY5u62wcT8n0","Utils");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.resetIdGenerator=function(){this._idGenerator=0},e.getUniqueId=function(){return this._idGenerator++},e.secondToMinute=function(t){return Math.floor(t/60)+":"+("0"+Math.floor(t>=60?t-60:t)).slice(-2)},e.calculatePosFromAngleRadius=function(t,e){var o=cc.misc.degreesToRadians(e),n=t*Math.sin(o),i=t*Math.cos(o);return cc.v2(n,i)},e.getRandom=function(t,e){return void 0===e&&(e=0),Math.floor(Math.random()*(t-e)+e)},e.getRandomInt=function(t,e){return Math.floor(Math.random()*Math.floor(e-t))+t},e.getRandomFloat=function(t,e){return void 0===e&&(e=0),Math.random()*(t-e)+e},e.getRandomCollectionObject=function(t){for(var e=Math.floor(Math.random()*t.size),o=0,n=0,i=t.keys();n<i.length;n++){var r=i[n];if(o++===e)return r}},e.getRandomArrayObject=function(t){for(var e=Math.floor(Math.random()*t.length),o=0,n=0,i=t;n<i.length;n++){var r=i[n];if(o++===e)return r}},e.stringToVector=function(t){return new cc.Vec2(Number(t.split(",")[0]),Number(t.split(",")[1]))},e.vectorToString=function(t){return t.x+","+t.y},e.shuffleArray=function(t){for(var e,o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1));e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}},e.getWorldPosition=function(t,e,o){if(void 0===e&&(e=this.LEFT),void 0===o&&(o=this.BOTTOM),t){var n=cc.mat4(),i=new cc.Vec3;t.getWorldMatrix(n).getTranslation(i);var r=i.x-t.width*t.anchorX,s=i.y-t.height*t.anchorY;return e==this.RIGHT?r+=t.width:e==this.CENTER&&(r+=t.width/2),o==this.TOP?s+=t.height:e==this.CENTER&&(s+=t.height/2),cc.v2(r,s)}},e.getSimpleWorldPosition=function(t,e,o){void 0===e&&(e=this.LEFT),void 0===o&&(o=this.BOTTOM);var n=this.getWorldPosition(t,e,o);return{x:n.x,y:n.y,z:0}},e.getPosition=function(t,e,o){void 0===e&&(e=this.LEFT),void 0===o&&(o=this.BOTTOM);var n=t.x-t.width*t.anchorX,i=t.y-t.height*t.anchorY;return e==this.RIGHT?n+=t.width:e==this.CENTER&&(n+=t.width/2),o==this.TOP?i+=t.height:e==this.CENTER&&(i+=t.height/2),cc.v2(n,i)},e.removeFromArray=function(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)},e.clearArray=function(t){t.length=0},e.flipCoin=function(){return this.random(0,1e4)>5e3},e.random=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.randomSign=function(){return this.random(0,10)>5?1:-1},e.getDiagonalDistance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(Math.abs(t.y-e.y),2))},e.setMaxSize=function(t,e,o){var n=1;t.width>e&&(n=e/t.width),t.height>o&&(n=Math.min(n,o/t.height)),t.setContentSize(t.width*n,t.height*n)},e.formatTime=function(t){var e=Math.floor(t/60),o=Math.floor(t-60*e);return e.toLocaleString(void 0,{minimumIntegerDigits:2})+":"+o.toLocaleString(void 0,{minimumIntegerDigits:2})},e.loadImageFromURL=function(t,e,o){void 0===o&&(o=null),cc.assetManager.loadRemote(e,{ext:".png"},function(e,n){if(!e){var i=new cc.SpriteFrame(n);if(t.spriteFrame=i,o){var r=i.getOriginalSize(),s=1;(r.height>o.height||r.width>o.width)&&(s=Math.max(o.height/r.height,o.width/r.width)),t.node.setContentSize(r.width*s,r.height*s)}}})},e.adjustNodeToSize=function(t,e){},e.RandomPointInRadius=function(t,e){var o=Math.random()*Math.PI*2,n=Math.cos(o)*t,i=Math.sin(o)*t;return new cc.Vec2(e.x+n,e.y+i)},e.Distance=function(t,e){var o=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);return Math.sqrt(o)},e.changeParent=function(t,e){if(t.parent!=e){var o=function(t){var e=t,o=e.angle;do{o+=(e=e.parent).angle}while(null!=e.parent);return o%=360},n=o(t)-o(e),i=t.convertToWorldSpaceAR(cc.v2(0,0)),r=e.convertToNodeSpaceAR(i);t.parent=e,t.position=r,t.angle=n}},e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.inverseLocalPosition=function(t,e){var o=t.parent.x,n=t.parent.y;t.setPosition(new cc.Vec2(o-e.x+o*t.anchorX,n-e.y+n*t.anchorY))},e.getInversePosition=function(t){var e=t.parent.x,o=t.parent.y;t.setPosition(new cc.Vec2(e-t.position.x+e*t.anchorX,o-t.position.y+o*t.anchorY))},e.calculateInversePosition=function(t,e){var o=t.parent.x,n=t.parent.y;return new cc.Vec2(o-e.x+o*t.anchorX,n-e.y+n*t.anchorY)},e.round=function(t,e){return Math.round(e/t)*t},e.getFloorKey=function(t,e){var o=Object.keys(t);o.sort(function(t,e){return parseInt(t)-parseInt(e)});for(var n=0;n<o.length;n++)if(e<=parseInt(o[n]))return t[o[n]];return null},e.LEFT=0,e.RIGHT=1,e.CENTER=2,e.TOP=3,e.BOTTOM=4,e._idGenerator=0,e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"5ff3cN+wUhGsbRnCr9c7CvE","Util");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.calculatePosFromAngleRadius=function(t,e){var o=cc.misc.degreesToRadians(e),n=t*Math.sin(o),i=t*Math.cos(o);return cc.v2(n,i)},e.secondToMinute=function(t){return Math.floor(t/60)+":"+("0"+Math.floor(t>=60?t-60:t)).slice(-2)},e.getRandom=function(t,e){return void 0===e&&(e=0),Math.floor(Math.random()*(t-e)+e)},e.getRandomFloat=function(t,e){return void 0===e&&(e=0),Math.random()*(t-e)+e},e.getRandomCollectionObject=function(t){for(var e=Math.floor(Math.random()*t.size),o=0,n=0,i=t.keys();n<i.length;n++){var r=i[n];if(o++===e)return r}},e.getRandomArrayObject=function(t){for(var e=Math.floor(Math.random()*t.length),o=0,n=0,i=t;n<i.length;n++){var r=i[n];if(o++===e)return r}},e.stringToVector=function(t){return new cc.Vec2(Number(t.split(",")[0]),Number(t.split(",")[1]))},e.vectorToString=function(t){return t.x+","+t.y},e.shuffleArray=function(t){for(var e,o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1));e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],use_reversed_rotateBy:[function(t,e,o){"use strict";cc._RF.push(e,"4789fRPdyRKk7cUC1UwLqWI","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}]},{},["Enemy","GameController","AssetHolder","DictUtil","DropConfigHolder","DropRate","EffectManager","GDTest","MoveBullet","Item","PolishEnemy","ItemInHud","ScoreController","TouchController","Util","BuffEffect","BuffManagerBase","BuffTarget","InstantEffect","StatusIcon","EmoticonController","PlayerEmoticons","RemoteEmoticon","HelpController","SoundManager","CanvasMultiResoSupport","FPSHUD","FillScreen","HCG_CountdownToStart","HCG_GameController","HCG_GameManager","HCG_ScoreComboSound","HCG_ScoreController","HCG_UIController","AbstractSDK","GameElapasedTime","ISDKHandler","NetworkedNode","PongMessage","SDKEngine","SdkFunctions","ArrayExtensions","LBPositionConverter","MapExtensions","MathExtensions","PesudoRandom","SetExtensions","TimeSpan","Utils","use_reversed_rotateBy"]);